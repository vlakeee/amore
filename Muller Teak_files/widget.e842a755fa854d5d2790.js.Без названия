var dkWidgetLib=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t,n){"use strict";(function(e){var o;n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return _})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return f})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,a,i,l=(r={},function(e,t,n){r[e]||(r[e]=setTimeout((function(){delete r[e],t()}),n))});function d(e,t){return"string"==typeof t&&(t=[t]),!!t.reduce((function(t,n){return t||e.classList.contains(n.trim())}),!1)||!(!e.parentNode||e.parentNode===document.body||!d(e.parentNode,t))}function s(e){var t=e.getBoundingClientRect();return t.width>0&&t.height>0}function u(e){return"string"==typeof e&&(e=[e]),e.reduce((function(e,t){if(e.length)return e;var n=-1!==t.indexOf(":visible");return t=t.replace(":visible",""),Array.from(document.querySelectorAll(t)).filter((function(e){return!n||s(e)}))}),[])}function c(e,t,n){e.removeEventListener(t,n),e.addEventListener(t,n)}function _(e,t,n){switch(t){case"press":c(e,"click",n),c(e,"touchstart",n);break;case"pressNoPrevent":e.addEventListener("click",(function(e){n(e)}),!1),e.addEventListener("touchstart",(function(e){n(e)}),!1);break;case"touch":e.addEventListener("touchstart",(function(e){n(e)}),!1);break;case"click":e.addEventListener("click",(function(e){e.preventDefault(),n(e)}),!1);break;default:e.addEventListener(t,(function(e){e.preventDefault(),n(e)}),!1)}}function p(e){e&&(e.classList.remove("dk-disabled"),e.disabled=!1)}function h(e){e&&("a"===e.tagName.toLowerCase()?e.classList.add("dk-disabled"):e.disabled=!0)}function v(){var e=document.querySelector('textarea[name="note"]');if(e){var t=document.createElement("form");t.method="post",t.action="/cart";var n=document.createElement("input");n.type="hidden",n.name="note",n.value=e.value,t.appendChild(n),document.body.appendChild(t),t.submit()}else window.location.reload()}function f(e,t){var n=["DONATION","ROUND_UP","FLAT"];if(e&&e.widgets)for(var o=0;o<n.length;o++){if(e.widgets[n[o]])if(+e.widgets[n[o]].variantId==+t)return!0}return!1}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(l,"startTimeout","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(d,"hasSomeParentTheClass","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(s,"isElementVisible","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(u,"getElementsByPriority","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(c,"setEvent","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(_,"setTouchEvent","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(p,"enableElement","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(h,"disableElement","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(v,"refreshForm","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js"),a.register(f,"isDkProduct","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/utils.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,n(7)(e))},function(e,t,n){e.exports=function(){function e(a,i){if(!(this instanceof e))return new e(a,i);i=Object.assign({},n,i);var l=Math.pow(10,i.precision);this.intValue=a=t(a,i),this.value=a/l,i.increment=i.increment||1/l,i.groups=i.useVedic?r:o,this.s=i,this.p=l}function t(t,n){var o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=n.decimal,a=n.errorOnInvalid,i=Math.pow(10,n.precision),l="number"==typeof t;if(l||t instanceof e)i*=l?t:t.value;else if("string"==typeof t)a=new RegExp("[^-\\d"+r+"]","g"),r=new RegExp("\\"+r,"g"),i=(i*=t.replace(/\((.*)\)/,"-$1").replace(a,"").replace(r,"."))||0;else{if(a)throw Error("Invalid Input");i=0}return i=i.toFixed(4),o?Math.round(i):i}var n={symbol:"$",separator:",",decimal:".",formatWithSymbol:!1,errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#"},o=/(\d)(?=(\d{3})+\b)/g,r=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(n){var o=this.s,r=this.p;return e((this.intValue+t(n,o))/r,o)},subtract:function(n){var o=this.s,r=this.p;return e((this.intValue-t(n,o))/r,o)},multiply:function(t){var n=this.s;return e(this.intValue*t/Math.pow(10,n.precision),n)},divide:function(n){var o=this.s;return e(this.intValue/t(n,o,!1),o)},distribute:function(t){for(var n=this.intValue,o=this.p,r=this.s,a=[],i=Math[0<=n?"floor":"ceil"](n/t),l=Math.abs(n-i*t);0!==t;t--){var d=e(i/o,r);0<l--&&(d=0<=n?d.add(1/o):d.subtract(1/o)),a.push(d)}return a},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s,n=t.pattern,o=t.negativePattern,r=t.formatWithSymbol,a=t.symbol,i=t.separator,l=t.decimal;t=t.groups;var d=(this+"").replace(/^-/,"").split("."),s=d[0];return d=d[1],void 0===e&&(e=r),(0<=this.value?n:o).replace("!",e?a:"").replace("#","".concat(s.replace(t,"$1"+i)).concat(d?l+d:""))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E}));var o={},r={},a=/{{ *?(?:(?:([\w$]+) *?\((.*?)\) *?([\w$]*))|(?:([\w$]+) *?\((.*?)\) *?\/)|(?:([\w$@].*?) *?((?:\| *?[\w$]+ *)*))|(?:\/ *?([\w$]+))|(?:# *?([\w$]+))|(?:!\-\-[^]+?\-\-)) *?}}\n?/g,i={s:"{{",e:"}}"},l=/@(?:((?:\.\.\/)+)|([\w$]+):)?/g,d=a,s=i;function u(e,t){var n=e+d.source.slice(s.s.length,0-(s.e.length+3))+t+"\\n?",o=d.lastIndex;s={s:e,e:t},(d=RegExp(n,"g")).lastIndex=o}function c(e,t,n){return e.replace(l,(function(e,o,r){return"hvals"+(o&&o.length?t[n-o.length/3-1].id:r||"")+"."}))}var _={if:{helperStart:function(e){return"if("+e+"){"},helperEnd:function(){return"}"},blocks:{else:function(){return"}else{"}}},each:{helperStart:function(e,t){return"for(var i=0;i<"+e+".length; i++){tR+=(function(hvals){var tR='';var hvals"+t+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[i],index:i})};"}},foreach:{helperStart:function(e,t){return"for(var key in "+e+"){if(!"+e+".hasOwnProperty(key)) continue;tR+=(function(hvals){var tR='';var hvals"+t+"=hvals;"},helperEnd:function(e){return"return tR})({this:"+e+"[key], key: key})};"}},log:{selfClosing:function(e){return"console.log("+e+");"}},tags:{selfClosing:function(e){return u(e.slice(0,e.indexOf(",")).trim(),e.slice(e.indexOf(",")+1).trim()),""}},js:{selfClosing:function(e){return e+";"}}},p={"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#39;"};function h(e){return p[e]}var v=/[&<"']/g,f=/[&<"']/,m={e:function(e){var t=String(e);return f.test(t)?t.replace(v,h):t}},b={start:"",end:""};var g=!0;function k(e,t){var n,o=!1,r="",a="";if(t&&""!==t){n=t.split("|");for(var i=0;i<n.length;i++)n[i]=n[i].trim(),""!==n[i]&&("safe"!==n[i]?(r="Sqrl.F."+n[i]+"("+r,a+=")"):o=!0)}return r+=b.start,a+=b.end,!o&&g&&(r+="Sqrl.F.e(",a+=")"),r+e+a}function y(e){var t,n=0,o="var tR='';",l=[],u=-1,p=0,h={};function v(t){n!==t&&(o+="tR+='"+e.slice(n,t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"';")}function f(e,t){var n=c(e,l,u);return"@"===e[0]?k(n,t):k("options."+n,t)}for(s=i,(d=a).lastIndex=0;null!==(t=d.exec(e));)if(v(t.index),n=t[0].length+t.index,t[1]){var m=t[3];""!==m&&null!==m||(m=p,p++);var b=_.hasOwnProperty(t[1]);u+=1;var g=t[2]||"";g=c(g,l,u),b||(g="["+g+"]");var y={name:t[1],id:m,params:g,native:b};l[u]=y,b?(o+=_[t[1]].helperStart(g,m),n=d.lastIndex):o+="tR+=Sqrl.H."+t[1]+"("+g+",function(hvals){var hvals"+m+"=hvals;var tR='';"}else if(t[4]){var E=t[5]||"";if(E=c(E,l,u),"include"===t[4]){var q=e.slice(0,t.index),w=e.slice(t.index+t[0].length),M=E.replace(/'|"/g,""),C=r[M];e=q+C+w,n=d.lastIndex=t.index}else _.hasOwnProperty(t[4])&&_[t[4]].hasOwnProperty("selfClosing")?(o+=_[t[4]].selfClosing(E),n=d.lastIndex):o+="tR+=Sqrl.H."+t[4]+"("+E+");"}else if(t[6])o+="tR+="+f(t[6],t[7])+";";else if(t[8]){var P=l[u];P&&P.name===t[8]?(u-=1,!0===P.native?o+=_[P.name].helperEnd(P.params,P.id):h[P.id]?o+="return tR}});":o+="return tR});"):console.error("Helper beginning & end don't match.")}else if(t[9]){var O=l[u];if(O.native){var I=_[O.name];I.blocks&&I.blocks[t[9]]?(o+=I.blocks[t[9]](O.id),n=d.lastIndex):console.warn("Native helper '%s' doesn't accept that block.",O.name)}else h[O.id]?o+="return tR},"+t[9]+":function(hvals){var hvals"+O.id+"=hvals;var tR='';":(o+="return tR},{"+t[9]+":function(hvals){var hvals"+O.id+"=hvals;var tR='';",h[O.id]=!0)}return v(e.length),o+="return tR",new Function("options","Sqrl",o.replace(/\n/g,"\\n").replace(/\r/g,"\\r"))}function E(e,t){return"function"==typeof e?e(t,{H:o,F:m,P:r}):"string"==typeof e?w(t,e)(t,{H:o,F:m,P:r}):void 0}var q={};function w(e,t){var o=e.$file,r=e.$name,a=e.$cache;if(o){var i=n(41);return!1!==a?(q.hasOwnProperty(o)||(q[o]=y(i.readFileSync(o,"utf8"))),q[o]):y(i.readFileSync(o,"utf8"))}return"string"==typeof t?r&&!1!==a?(q.hasOwnProperty(r)||(q[r]=y(t)),q[r]):!0===a?(q.hasOwnProperty(t)||(q[t]=y(t)),q[t]):y(t):r&&!1!==a&&q.hasOwnProperty(r)?q[r]:"No template"}},function(e,t,n){"use strict";(function(e){var o;n.d(t,"a",(function(){return i})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var r,a;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){mixpanel.dailykarma.track(e,{Shopify_URL:window.location.href})}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(i,"trackAnalytics","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/analytics.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,n(7)(e))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){"use strict";(function(e){var o;n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return s})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,a,i={name:"dk_product_added",create:function(){return new CustomEvent("dk_product_added",{bubbles:!0})}},l={name:"dk_open_popup",create:function(){return new CustomEvent("dk_open_popup",{bubbles:!0})}},d={name:"dk_error",create:function(e){return new CustomEvent("dk_error",{bubbles:!0,detail:e})}},s={name:"dk_cart_updated",create:function(e){return new CustomEvent("dk_cart_updated",{bubbles:!0,detail:e})}};(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(i,"PRODUCT_ADDED_EVENT","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/events.js"),r.register(l,"OPEN_POPUP_EVENT","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/events.js"),r.register(d,"ERROR_EVENT","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/events.js"),r.register(s,"CART_UPDATED_EVENT","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/events.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,n(7)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ApiService}));var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3__),enterModule;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},xhr=__webpack_require__(35),Preview={donate:"donate_for_discount",roundup:"round_up",backend:"backend_donation",flat:"flat"},ApiService=function(){function ApiService(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,ApiService),this.prefixUrl=e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ApiService,[{key:"getSettingsDonation",value:function(e,t){var n=sessionStorage.getItem("dkStorage"),o=n&&JSON.parse(n).dkSettings||null;if(!o||!o.expires||(new Date).getTime()>o.expires){var r="".concat(this.prefixUrl,"shopify/settingV2?shopName=").concat(window.Shopify.shop||window.location.host).concat(this.previewMode());this.getSettingsPromise(r).then((function(t){var n=_objectSpread({},t.widgets&&t.widgets.DONATION?t.widgets.DONATION:{},{},t.widgets&&t.widgets.DONATION?t.widgets.DONATION.widgetSettings:{},{},t);for(var o in n)"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(n[o])&&null!==n[o]&&delete n[o];e&&e(_objectSpread({},n,{settingsV2:t,expires:(new Date).getTime()+216e5}))}),(function(e){t&&t(e)}))}else e&&e(o)}},{key:"previewMode",value:function(){var e=sessionStorage.getItem("dk_preview_mode");return e?"&preview=".concat(Preview[e]):""}},{key:"getSettingsPromise",value:function(e){var t=sessionStorage.getItem("dkSettingsV2");if(t)try{(t=JSON.parse(t)).expires<(new Date).getTime()?(ApiService.settingsPromise[e]=void 0,sessionStorage.removeItem("dkSettingsV2")):ApiService.settingsPromise[e]=new Promise((function(e,n){e(t.res)}))}catch(e){}return ApiService.settingsPromise[e]||(ApiService.settingsPromise[e]=new Promise((function(t,n){xhr.get(e,{json:!0},(function(e,o,r){!e&&o.statusCode<400?(sessionStorage.setItem("dkSettingsV2",JSON.stringify({res:r,expires:(new Date).getTime()+3e5})),t(r)):n(e)}))}))),ApiService.settingsPromise[e]}},{key:"getCauseFundPromise",value:function(e){var t=this;return ApiService.causeFundPromise||(ApiService.causeFundPromise=new Promise((function(n,o){xhr.get("".concat(t.prefixUrl,"shopify/causefund/").concat(e),{json:!0},(function(e,t,r){!e&&t.statusCode<400?(sessionStorage.setItem("dkCharities",JSON.stringify({res:r,expires:(new Date).getTime()+3e5})),n(r)):o(r)}))}))),ApiService.causeFundPromise}},{key:"getSettingsV2",value:function(e,t){var n=window.Shopify.Checkout?window.Shopify.Checkout.apiHost:void 0,o="".concat(this.prefixUrl,"shopify/settingV2?shopName=").concat(window.Shopify.shop||n||window.location.host).concat(this.previewMode());this.getSettingsPromise(o).then((function(t){e&&e(_objectSpread({},t,{expires:(new Date).getTime()+216e5}))}),(function(e){t&&t(e)}))}},{key:"isRenderingAllowed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DONATION";xhr.get("".concat(this.prefixUrl,"shopify/widget/").concat(window.Shopify.shop||window.location.host,"/").concat(e||"null","?widgetType=").concat(n),{json:!0},(function(e,n,o){!e&&n.statusCode<400?t&&t(o):t&&t(e)}))}},{key:"getCart",value:function(e){window.jQuery?window.jQuery.getJSON("/cart.js",(function(t){"function"==typeof e&&e(t)})):xhr.get("/cart.js",{json:!0},(function(t,n,o){!t&&n.statusCode<400&&"function"==typeof e&&e(o)}))}},{key:"getCauseFund",value:function(e,t,n){var o=sessionStorage.getItem("dkCharities");if(o){if(o=JSON.parse(o),(new Date).getTime()<o.expires)return void(t&&t(o.res));sessionStorage.removeItem("dkCharities")}this.getCauseFundPromise(e).then((function(e){t&&t(e)}),(function(e){n&&n(e)}))}},{key:"addRoundUpToCart",value:function(e,t,n,o){xhr({url:"/cart/add.js",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:{id:e,quantity:t},json:!0},(function(e,t,r){!e&&t.statusCode<400?n&&n(r):o&&o(e)}))}},{key:"updateRoundUpQuantity",value:function(e,t,n,o){xhr({url:"/cart/update.js",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:{updates:_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()({},e,t)},json:!0},(function(e,t,r){!e&&t.statusCode<400?n&&n(r):o&&o(e)}))}},{key:"addDonationToCart",value:function(e,t,n){this.getCart((function(o){var r=o.items.find((function(t){return t.variant_id===e}));xhr({url:r?"/cart/change.js":"/cart/add.js",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:{id:e,quantity:1},json:!0},(function(e,o,r){!e&&o.statusCode<400?t&&t(r):n&&n(e)}))}))}},{key:"deleteDiscount",value:function(e,t,n){xhr.del("".concat(this.prefixUrl,"shopify/discount/").concat(e.token),{json:!0},(function(e,o,r){!e&&o.statusCode<400?t&&t(r):n&&n(e)}))}},{key:"applyDiscount",value:function(e,t,n){xhr.get("/discount/".concat(encodeURIComponent(e)),{headers:{"Cache-Control":"no-cache"},json:!0},(function(e,o,r){!e&&o.statusCode<400?t&&t(r):n&&n(e)}))}},{key:"roundUpCheckout",value:function(e,t,n){xhr({url:"".concat(this.prefixUrl,"shopify/roundup"),method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:e,json:!0},(function(e,o,r){!e&&o.statusCode<400?t&&t(r):n&&n(e)}))}},{key:"updateDiscount",value:function(e,t,n,o){xhr({url:"".concat(this.prefixUrl,"shopify/discount"),method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:{shopName:window.Shopify.shop||window.location.host,domain:window.location.host,itemsVO:e.items,cartToken:e.token,notification:t},json:!0},(function(e,t,r){!e&&t.statusCode<400?n&&n(r):o&&o(e)}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ApiService}(),reactHotLoader,leaveModule;_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(ApiService,"settingsPromise",{}),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_3___default()(ApiService,"causeFundPromise",void 0),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Preview,"Preview","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/apiService.js"),reactHotLoader.register(ApiService,"ApiService","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/apiService.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";(function(e){var o;n.d(t,"a",(function(){return i})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,a,i={apiUrl:"https://web.dailykarma.io/api",mixpanelToken:"a6c0abcb7b5e56fdacf7220338c4ae0c"};(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(i,"dkConfig","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/config.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,n(7)(e))},function(e,t,n){var o=n(42),r=n(43),a=n(44),i=n(46);e.exports=function(e,t){return o(e)||r(e,t)||a(e,t)||i()}},function(e,t,n){"use strict";t.a='\n<style>\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n        line-height: 1;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: \'\';\n        content: none;\n    }\n    table {\n        border-collapse: collapse;\n        border-spacing: 0;\n    }\n    *{\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        text-transform: initial !important;\n        letter-spacing: initial !important;\n    }\n    .dk-round-up-plugin {\n        padding: 15px 15px 12px 15px;\n        margin-bottom: 10px;\n        max-width: 423px;\n        min-height: 50px;\n        display: flex;\n        border-radius: 6px;\n        {{if(options.showBorder)}}\n        border: 1px solid {{fontColor}};\n        {{#else}}\n        border: none;\n        {{/if}}\n    }\n\n    .dk-content {\n        display: flex;\n        justify-content: space-between;\n        flex: 1;\n    }\n\n    .dk-information-texts {\n        display: flex;\n        flex: 1;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n\n    .dk-description-block {\n        display: flex;\n        flex-direction: row;\n        align-items: flex-start;\n    }\n\n    p {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        font-weight: 400 !important;\n        font-size: 12px;\n        position: relative;\n        top: -4px;\n        line-height: 1.5;\n        padding-left: 8px;\n        padding-right: 15px;\n        text-align: left;\n    }\n\n    .dk-created-by {\n        font-size: 10px;\n        margin-top: -8px;\n        line-height: 1.5;\n        padding: 0;\n        text-align: left;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        font-weight: 400 !important;\n    }\n\n\n    .dk-learn-more {\n        cursor: pointer;\n        text-decoration: underline;\n        padding-left: 2px;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        font-weight: 400 !important;\n        color: {{fontColor}};\n    }\n\n    .dk-plugin-controls {\n        display: flex;\n        flex-direction: column;\n        margin-top: 4px;\n    }\n\n    .dk-plugin-update{\n        color: {{fontColor}};\n        font-size: 10px;\n        text-align: center;\n        text-decoration: underline;\n        cursor: pointer;\n    }\n\n    .dk-plugin-input {\n        outline: none;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        font-weight: 400 !important;\n        width: 64px;\n        height: 30px;\n        border-radius: 6px;\n        background: {{backgroundColor}};\n        border: 1px solid {{fontColor}};\n        color: {{fontColor}};\n        font-size: 14px;\n        padding: 0;\n        margin: 0;\n        text-align: center;\n    }\n    \n    .dk-container-checkbox {\n        display: block;\n        position: relative;\n        margin-bottom: 20px;\n        width: 18px;\n        min-width: 18px;\n        cursor: pointer;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .dk-container-checkbox input {\n        position: absolute;\n        opacity: 0;\n        cursor: pointer;\n        height: 0;\n        width: 0;\n    }\n\n    .dk-checkmark {\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 15px;\n        width: 15px;\n        border: 1px solid {{fontColor}};\n        border-radius: 3px;\n    }\n\n    .dk-container-checkbox:hover input~.dk-checkmark {\n        border: 1px solid {{fontColor}};\n        border-radius: 3px;\n    }\n\n    .dk-container-checkbox input:checked~.dk-checkmark {\n        border: 1px solid {{fontColor}};\n        border-radius: 3px;\n    }\n\n    .dk-checkmark:after {\n        content: "";\n        position: absolute;\n        display: none;\n    }\n\n    .dk-container-checkbox input:checked~.dk-checkmark:after {\n        display: block;\n    }\n\n    .dk-container-checkbox input:focus~.dk-checkmark {\n\t\toutline: 2px solid !important;\n    }\n\n    .dk-container-checkbox .dk-checkmark:after {\n        left: 4px;\n        top: 1px;\n        width: 5px;\n        height: 8px;\n        border: solid {{fontColor}};\n        border-width: 0 3px 3px 0;\n        -webkit-transform: rotate(45deg);\n        -ms-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n\n    \n    @media screen and (max-width: 420px) {\n        p {\n            margin: 0;\n            position: relative;\n            top: -4px;\n            line-height: 1.5;\n            font-size: 12px;\n            padding-left: 8px;\n            padding-right: 0px;\n            text-align: left;\n        }\n    }\n\n    .dk-plugin-control-minus {\n        display: none;\n        margin-right: 5px;\n        width: 19px;\n        height: 19px;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n    }\n\n    .dk-plugin-control-plus {\n        display: none;\n        margin-left: 5px;\n        width:19px;\n        height:19px;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n    }\n</style>\n\n<div class="dk-round-up-plugin"\n    style="{{blockAligmentStyles}}; color: {{fontColor}}; background: {{backgroundColor}};">\n    <div class="dk-content">\n        <div class="dk-information-texts">\n            <div class="dk-description-block">\n                <label class="dk-container-checkbox">\n                    <input id="dk-round-up-checkbox" type="checkbox">\n                    <span class="dk-checkmark"></span>\n                </label>\n\n                <p style="color: {{fontColor}};">{{description}}\n                    <a href="javascript:void(0);" class="dk-learn-more" id="dk-learn-more-round-up">\n                        Learn More\n                    </a>\n                </p>\n            </div>\n            <span class="dk-created-by" style="color: {{fontColor}};">Powered by \n                <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 6px; padding-left: 3px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n                    <g transform="matrix(1 0 0 -1 0 960)">\n                     <path fill="currentColor"\n                  d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n                  q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n                  q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n                  q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n                  q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n                  q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n                  q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n                  v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n                  l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n                  t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n                  q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n                  v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n                  q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n                  M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n                  q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n                  q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n                  t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n                  q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n                  t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n                  t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n                    </g>\n                  \n                  </svg>\n                \n            </span>\n        </div>\n        <div class="dk-plugin-controls">\n            <div style="display: flex; justify-content: center; align-items: center;">\n                <div class="dk-plugin-control-minus">\n                    <svg width="19px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="{{fontColor}}" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"></path></svg>\n                </div>\n                    <input type="text" class="dk-plugin-input" id="dk-plugin-round-up-input" value="0.00"/>\n                <div class="dk-plugin-control-plus">\n                    <svg width="19px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="{{fontColor}}" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"></path></svg>\n                </div>\n        </div>\n            <a href="javascript:void(0);" class="dk-plugin-update" id="dk-plugin-update" style="display:none;">Update</a>\n    </div>\n</div>'},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return WidgetController}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_apiService__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_modalPopup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(15),_widgetBlock__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),enterModule;function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},WidgetController=function(){function WidgetController(e){var t=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,WidgetController),this.currentCartString="",this.clientSettings=null,this.modal=null,this.widgetArray=[],this.handlers={},this.charityVOs=[],this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_2__.a(e),jQuery&&!window.dk_disable_ajax_hook&&jQuery(document).ajaxComplete((function(e,n,o){if(t.clientSettings&&n&&200===n.status&&n.responseText){if(o&&o.url.includes("/cart.js")){var r=JSON.parse(n.responseText);t.onGetCart(r)}o&&(o.url.includes("/change.js")||o.url.includes("/update.js"))&&t.apiService.getCart((function(e){return t.onGetCart(e)}))}})),document.addEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.a.name,(function(){return t.apiService.getCart((function(e){return t.onGetCart(e)}))})),document.addEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.b.name,(function(e){return t.onError(e.detail)}))}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(WidgetController,[{key:"init",value:function(){var e=this;if(!document.URL.includes("/checkouts/")){this.productAdded=!1,this.initialized=!1;this.getSettings((function(t){var n;t&&(e.connection=t.connection,e.connection&&(n=e.clientSettings.causeFundId,e.apiService.getCauseFund(n,(function(t){var n=t.charityVOs;e.charityVOs=n,n&&n.length&&(e.apiService.getCart((function(t){e.initialized=!0,e.initElements(t);var n=t.items.find((function(t){return t.variant_id===e.clientSettings.variantId}));e.changeToAdded(!!n),window.dk_disable_ajax_hook&&e.onGetCart(t)})),e.observer&&e.observer.disconnect(),e.observer=new MutationObserver((function(t){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;)"childList"===n.value.type&&Object(_utils__WEBPACK_IMPORTED_MODULE_3__.j)("buildWidgets",(function(){e.initialized&&(document.getElementById("dk-modal")||e.buildModal(e.globalCart),e.initWidgets())}),500)}catch(e){o.e(e)}finally{o.f()}})),e.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}))}),(function(t){return e.onError(_events__WEBPACK_IMPORTED_MODULE_4__.b.create(t))}))))}))}}},{key:"getSettings",value:function(e){var t=this;this.apiService.getSettingsDonation((function(n){t.clientSettings=n,e&&e(n)}),(function(e){return t.onError(e)}))}},{key:"initElements",value:function(e){this.initialized&&(this.buildModal(e),this.initWidgets())}},{key:"buildModal",value:function(e){var t=this;if(!this.initialized)throw"[DK] no settings";this.modal&&this.modal.destroy(),this.modal=new _modalPopup__WEBPACK_IMPORTED_MODULE_5__.a(this.clientSettings,this.apiService),this.modal.build(this.charityVOs||[],e?e.items.find((function(e){return e.variant_id===t.clientSettings.variantId})):void 0),this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.d.name]&&document.removeEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.d.name,this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.d.name]),this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.d.name]=this.onProductAdded.bind(this),document.addEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.d.name,this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.d.name],!0),this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.c.name]&&document.removeEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.c.name,this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.c.name]),this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.c.name]=this.modal.toggleModal.bind(this.modal),document.addEventListener(_events__WEBPACK_IMPORTED_MODULE_4__.c.name,this.handlers[_events__WEBPACK_IMPORTED_MODULE_4__.c.name],!0)}},{key:"buildWidgets",value:function(){var e=this,t=["product-menu","product-bar__form"],n=[];"MANUAL"===(this.clientSettings.pluginIntegration||"").toUpperCase()?n=Array.from(document.querySelectorAll(".dk-client-static")).filter((function(e){return Object(_utils__WEBPACK_IMPORTED_MODULE_3__.f)(e)&&"true"!==e.getAttribute("data-dk-widget")})).map((function(e){return e.classList.add("dk-client"),e})):(n=n.concat(Object(_utils__WEBPACK_IMPORTED_MODULE_3__.c)([".dk-client-static:visible",".quick-shop-container .product-form__cart-actions",'.quick-view form[action="/cart/add"]','form[action="/cart/add"].product-form-nojs','form[action="/cart/add"]:visible']).filter((function(e){return!e.parentElement.querySelector(".dk-client")})).filter((function(e){return t.reduce((function(t,n){return t&&!e.classList.contains(n)}),!0)})).filter((function(e){return!Object(_utils__WEBPACK_IMPORTED_MODULE_3__.d)(e,["products-grid","product-list"])})).map((function(e){var t=e.classList.contains("dk-client-static")?e:document.createElement("div");return e.insertAdjacentElement("afterend",t),t}))),!window.show_dk_widget_on_collection_page&&window.location.pathname.split("/").filter((function(e){return""!==e})).includes("collections")&&window.location.pathname.split("/").filter((function(e){return""!==e})).length<=2&&(this.elements=[])),this.widgetArray=this.widgetArray.concat(n.map((function(t){return t.setAttribute("data-dk-widget","true"),t.parentElement.setAttribute("data-dk-widget","true"),new _widgetBlock__WEBPACK_IMPORTED_MODULE_6__.a(t,e.apiService)}))),this.widgetArray=this.widgetArray.map((function(e){return document.body.contains(e.clientWrapper)?e:(e.destroy(),null)})).filter((function(e){return!!e}))}},{key:"initWidgets",value:function(){var e=this;this.initialized&&(this.buildWidgets(),this.widgetArray.forEach((function(t){t.initialized||t.init(e.clientSettings,e.productAdded)})))}},{key:"removeWidget",value:function(){this.initialized&&(this.widgetArray.forEach((function(e){e.destroy()})),this.widgetArray=[])}},{key:"onCartChanged",value:function(){var e=this;this.apiService.getCart((function(t){return e.onGetCart(t)}))}},{key:"onProductAdded",value:function(){var e=this;this.changeToAdded(!0),this.apiService.getCart((function(t){e.onGetCart(t),window.dkDonationAddedAction&&window.dkDonationAddedAction(t)}))}},{key:"changeToAdded",value:function(e){this.productAdded=e;for(var t=0;t<this.widgetArray.length;t++)this.widgetArray[t].setAddedStyles(e)}},{key:"enableCheckout",value:function(e){this.getCheckoutBtns().map((function(t){return e?Object(_utils__WEBPACK_IMPORTED_MODULE_3__.b)(t):Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(t)}))}},{key:"getCheckoutBtns",value:function(){return Array.from(document.querySelectorAll(['form[action="/cart"] [name="checkout"]','a[href="/checkout"]','a[name="checkout"]','form[action="/checkout"] [name="checkout"]','form[action="/checkout"] [type="submit"]',"button[onclick=\"window.location='/checkout'\"]"].join(", ")))}},{key:"onGetCart",value:function(e,t){var n=this;this.globalCart=e,this.clientSettings?(sessionStorage.getItem("dkStorage")&&this.enableCheckout(!1),this.checkDonation(e),this.checkDiscount(e,(function(){n.enableCheckout(!0),t&&t()}))):t&&t()}},{key:"checkDonation",value:function(e){var t=this;e.items.find((function(e){return e.variant_id===t.clientSettings.variantId}))?(sessionStorage.setItem("dkStorage",JSON.stringify({cartToken:e.token,items:e.items,domain:window.location.host,dkSettings:this.clientSettings})),1===e.items.length&&this.enableCheckout(!1),this.changeToAdded(!0)):(sessionStorage.getItem("dkAddModal")?sessionStorage.removeItem("dkAddModal"):sessionStorage.removeItem("dkNotification"),sessionStorage.removeItem("dkStorage"),this.changeToAdded(!1),this.enableCheckout(!0))}},{key:"checkDiscount",value:function(e,t){var n=this;if(JSON.stringify(e)!==this.currentCartString){if(this.initDiscount(e,t),this.modal&&this.currentCartString){var o=JSON.parse(this.currentCartString).items.find((function(e){return e.variant_id===n.clientSettings.variantId})),r=e.items.find((function(e){return e.variant_id===n.clientSettings.variantId}));(o&&!r||!o&&r)&&this.buildModal(e)}this.currentCartString=JSON.stringify(e)}else this.enableCheckout(!0)}},{key:"initDiscount",value:function(e,t){var n=this;this.updateDiscount(e,(function(o){o.codeName?n.applyDiscount(o.codeName,t):n.deleteDiscount(e,t)}),(function(){return n.deleteDiscount(e,t)}))}},{key:"deleteDiscount",value:function(e,t){var n=this;WidgetController.removeStyles(),this.apiService.deleteDiscount(e,t,(function(e){return n.onError(e)}))}},{key:"applyDiscount",value:function(e,t){var n=this;WidgetController.addStyles(),this.apiService.applyDiscount(e,t,(function(e){return n.onError(e)}))}},{key:"updateDiscount",value:function(e,t,n){var o=this,r=JSON.parse(sessionStorage.getItem("dkNotification"));this.apiService.updateDiscount(e,r,t,(function(e){n&&n(e),o.onError(e)}))}},{key:"onError",value:function(e){this.enableCheckout(!0),e&&console&&console.log("request failed",e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"addStyles",value:function(){var e=document.querySelector("style#dk-custom-style");e||((e=document.createElement("style")).id="dk-custom-style",document.head.appendChild(e)),e.innerHTML=".paypal-button{display:none !important;}.gpay-iframe{display:none !important;}.amazon-payments-pay-button{display:none !important;}"}},{key:"removeStyles",value:function(){var e=document.querySelector("style#dk-custom-style");e&&document.head.removeChild(e)}}]),WidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(WidgetController,"WidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/widgetController.js"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ModalPopup}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),squirrelly__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_raw_loader_modal_html__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_analytics__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_events__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_2__.a(_raw_loader_modal_html__WEBPACK_IMPORTED_MODULE_4__.a),ModalPopup=function(){function ModalPopup(e,t){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,ModalPopup),this.clientSettings=e||{},this.apiService=t,this.subscriptionChecked=JSON.parse(sessionStorage.getItem("dkNotification")),this.showModal=!1,this.modalBlockWrapper=document.createElement("div"),this.modalBlockWrapper.id="dk-modal",this.modalBlockWrapper.className="dk-modal-hidden"}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ModalPopup,[{key:"build",value:function(e,t){this.avaliableDontation=t;var n=Object.assign({charities:e,subscriptionChecked:this.subscriptionChecked},this.clientSettings);this.contentStr=squirrelly__WEBPACK_IMPORTED_MODULE_2__.b(template,n),document.body.appendChild(this.modalBlockWrapper)}},{key:"onAddDonation",value:function(e){var t=this;e.preventDefault(),e.stopImmediatePropagation(),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(this.addBtn),sessionStorage.setItem("dkNotification",this.subscriptionChecked),sessionStorage.setItem("dkAddModal","1"),this.apiService.addDonationToCart(this.clientSettings.variantId,(function(){t.toggleModal(),t.modalBlockWrapper.dispatchEvent(_events__WEBPACK_IMPORTED_MODULE_6__.d.create()),(document.URL.endsWith("/cart")||document.URL.endsWith("/cart/"))&&Object(_utils__WEBPACK_IMPORTED_MODULE_3__.g)()}),(function(){return Object(_utils__WEBPACK_IMPORTED_MODULE_3__.b)(t.addBtn)})),Object(_analytics__WEBPACK_IMPORTED_MODULE_5__.a)("Shopify_Popup_AddDonation")}},{key:"toggleModal",value:function(){var e=this;if(this.showModal=!this.showModal,!this.modalBlockWrapper.innerText&&this.contentStr&&this.showModal){if(this.modalBlockWrapper.innerHTML=this.contentStr,delete this.contentStr,this.avaliableDontation){var t=this.modalBlockWrapper.querySelector(".dk-modal-btn-add-text"),n=this.modalBlockWrapper.querySelector(".dk-modal-btn-added-text");t.style.display="none",n.style.display="inline-block";var o=this.modalBlockWrapper.querySelector(".dk-modal-btn");o.style.border="none",o.disabled=!0}Object(_utils__WEBPACK_IMPORTED_MODULE_3__.i)(this.modalBlockWrapper.querySelector("input.learn-more-checkbox"),"change",(function(){e.subscriptionChecked=!e.subscriptionChecked,e.subscriptionChecked&&Object(_analytics__WEBPACK_IMPORTED_MODULE_5__.a)("Shopify_Popup_Optin")})),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.i)(this.modalBlockWrapper.querySelector(".dk-modal-learn"),"press",(function(e){e.preventDefault(),e.stopPropagation(),window.open("https://app.dailykarma.com/faqs/#received","_blank"),Object(_analytics__WEBPACK_IMPORTED_MODULE_5__.a)("Shopify_Popup_Fee_Learn")})),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.i)(this.modalBlockWrapper,"press",(function(e){e.stopPropagation()})),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.i)(this.modalBlockWrapper.querySelector(".dk-modal-overlay"),"press",(function(t){return t.preventDefault(),t.stopPropagation(),e.toggleModal(),Object(_analytics__WEBPACK_IMPORTED_MODULE_5__.a)("Shopify_Popup_Cancel"),!1})),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.i)(this.modalBlockWrapper.querySelector(".dk-modal-close"),"press",(function(t){t.preventDefault(),t.stopPropagation(),e.toggleModal(),Object(_analytics__WEBPACK_IMPORTED_MODULE_5__.a)("Shopify_Popup_Cancel")})),this.addBtn=this.modalBlockWrapper.querySelector(".dk-modal-btn"),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.h)(this.addBtn,"click",this.onAddDonation.bind(this)),Object(_utils__WEBPACK_IMPORTED_MODULE_3__.h)(this.addBtn,"touchend",this.onAddDonation.bind(this))}this.modalBlockWrapper.className=this.showModal?"dk-modal-visible":"dk-modal-hidden",this.showModal&&document.getElementById("dk-modal-donate-for-discount-overlay")&&document.getElementById("dk-modal-donate-for-discount-overlay").focus()}},{key:"destroy",value:function(){document.getElementById("dk-modal")&&document.body.removeChild(this.modalBlockWrapper)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ModalPopup}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/modalPopup.js"),reactHotLoader.register(ModalPopup,"ModalPopup","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/modalPopup.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<div class="dk-modal-overlay"></div>\n<div class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <div id="dk-modal-donate-for-discount-overlay" tabindex="-1"></div>\n  <button class="dk-modal-close" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title"\n      style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n  </div>\n  <div class="sub-container">\n    <label class="sub-label" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      Learn more about these charities &amp; other ways to give back. Unsubscribe at any time.\n      <input class="learn-more-checkbox" type="checkbox" {{subscriptionChecked?\'checked\':\'\'}}><span class="sub-checkmark"\n        style="background: {{backgroundColor}}; border-color: {{fontColor}}"></span></label>\n  </div>\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <button class="dk-modal-btn" type="button" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      <span class="dk-modal-btn-add-text">Add ${{donationAmount}}.00 donation to cart</span>\n      <span class="dk-modal-btn-added-text" style="display: none;">Charity Donation was added</span>\n    </button>\n    <label class="sub-label dk-modal-fee"\n      style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma.{{if(!options.areFeesCovered)}} 10% processing + credit card transaction fee is deducted from your donation. {{/if}} \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received"\n        style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return WidgetBlock}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),squirrelly__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_raw_loader_widget_html__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_2__.a(_raw_loader_widget_html__WEBPACK_IMPORTED_MODULE_3__.a),WidgetBlock=function(){function WidgetBlock(e,t){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,WidgetBlock),this.initialized=!1,this.apiService=t,e.classList.add("dk-client"),e.innerHTML='<div class="dk-spinner"></div>',this.clientWrapper=e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(WidgetBlock,[{key:"init",value:function(e,t){var n=this;if("true"===this.clientWrapper.getAttribute("dk-initialized"))throw"[DK] widget already initialized";this.clientWrapper.style.display="none",this.clientSettings=e;var o=this.clientSettings.blockAlignment,r=this.clientSettings.verticalIndent>10?this.clientSettings.verticalIndent:10,a="".concat(r,"px"),i="RIGHT"===o.toUpperCase()?0:"auto",l="LEFT"===o.toUpperCase()?0:"auto",d="margin: ".concat(a," ").concat(i," ").concat("10px"," ").concat(l),s=Object.assign({},this.clientSettings);s.backgroundColor=s.isTransparent?"transparent":s.backgroundColor;var u=squirrelly__WEBPACK_IMPORTED_MODULE_2__.b(template,s);this.clientWrapper&&this.clientWrapper.setAttribute("style",d),this.clientWrapper.style.display="none","donate"===sessionStorage.getItem("dk_preview_mode")&&(this.clientWrapper.style.display=""),this.clientWrapper.innerHTML=u,Object(_utils__WEBPACK_IMPORTED_MODULE_5__.i)(this.clientWrapper.querySelector(".dk-link"),"press",(function(e){e.cancelable&&(e.preventDefault(),e.stopPropagation(),n.clientWrapper.dispatchEvent(_events__WEBPACK_IMPORTED_MODULE_4__.c.create()),Object(_analytics__WEBPACK_IMPORTED_MODULE_6__.a)("Shopify_LearnMore"))})),this.clientWrapper.setAttribute("dk-initialized",!0),this.initialized=!0,this.setAddedStyles(t),this.startAllowedCheck()}},{key:"startAllowedCheck",value:function(){var e=this;if(this._timeout&&window.clearTimeout(this._timeout),this.clientWrapper&&this.clientWrapper.parentElement){var t=jQuery(this.clientWrapper).parents(':has(form[action^="/cart"])').first().find('form[action^="/cart"] [name="id"]').last().val()||null;if(this.productId!==t&&(Object(_utils__WEBPACK_IMPORTED_MODULE_5__.f)(this.clientWrapper.parentElement)||Object(_utils__WEBPACK_IMPORTED_MODULE_5__.f)(this.clientWrapper.parentElement.parentElement))){this.productId=t;var n=this.clientSettings.pageMod,o=function(n){e.clientWrapper.style.display=n?"":"none","donate"===sessionStorage.getItem("dk_preview_mode")&&(e.clientWrapper.style.display=""),Object(_utils__WEBPACK_IMPORTED_MODULE_5__.e)(e.clientSettings?e.clientSettings.settingsV2:{},t)&&(e.clientWrapper.style.display="none"),e._timeout=window.setTimeout((function(){e.startAllowedCheck()}),1e3)};"ALL"===n?o(!0):this.apiService.isRenderingAllowed(this.productId,(function(e){o(e)}))}else this._timeout=window.setTimeout((function(){e.startAllowedCheck()}),1e3)}}},{key:"setAddedStyles",value:function(e){if(this.productAdded=e,this.clientWrapper&&this.initialized){var t=this.clientWrapper.querySelector(".dk-widget-content");e?t.classList.add("dk-product-added"):t.classList.remove("dk-product-added")}}},{key:"destroy",value:function(){if(this.clientWrapper){var e=this.clientWrapper.parentNode;e&&e.removeChild(this.clientWrapper),this.clientWrapper=null}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),WidgetBlock}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/widgetBlock.js"),reactHotLoader.register(WidgetBlock,"WidgetBlock","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/widgetBlock.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<div class="dk-medium dk-widget-content" style="background: {{backgroundColor}}; color: {{fontColor}}; box-sizing: border-box;{{if(options.showBorder)}}border: 1px solid {{fontColor}};{{#else}}border: none;{{/if}}">\n  <div class="dk-add-product-container">\n      <div class="dk-plugin-header">\n          <div class="dk-plugin-description"\n            style="background: {{backgroundColor}};; color: {{fontColor}}; {{description.length>=70?\'line-height: 18px;\':\'\'}}">\n            {{description}}\n          </div>\n        </div>\n        <div class="dk-client-bottom">\n          <a class="dk-link" href="#"\n            style="background: {{backgroundColor}}; color: {{fontColor}}; {{description.length>=70?\'position: absolute; bottom: 11px;\':\'\'}}">\n            Donate Now\n          </a>\n        </div>\n        <p class="dk-logo {{description.length>=70?\'dk-logo-right\':\'\'}}" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          Powered by <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 5px; padding-left: 3px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n            <g transform="matrix(1 0 0 -1 0 960)">\n             <path fill="currentColor"\n          d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n          q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n          q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n          q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n          q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n          q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n          q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n          v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n          l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n          t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n          q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n          v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n          q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n          M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n          q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n          q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n          t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n          q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n          t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n          t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n            </g>\n          \n          </svg>\n        </p>\n  </div>\n  <div class="dk-product-added-container">\n      <h1 class="added-product-title" style="background: {{backgroundColor}}; color: {{fontColor}};">Charity Donation was\n          added</h1>\n        <p class="dk-logo" style="background: {{backgroundColor}}; color: {{fontColor}};">Powered by  <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 5px; padding-left: 3px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n          <g transform="matrix(1 0 0 -1 0 960)">\n           <path fill="currentColor"\n        d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n        q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n        q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n        q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n        q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n        q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n        q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n        v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n        l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n        t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n        q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n        v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n        q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n        M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n        q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n        q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n        t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n        q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n        t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n        t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n          </g>\n        \n        </svg></p>\n  </div>\n</div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return RoundUpWidgetController}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),squirrelly__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),currency_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),currency_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(currency_js__WEBPACK_IMPORTED_MODULE_4__),_apiService__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_raw_loader_modalPopupRoundUp_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(20),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_widget||_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__.a),modalTemplate=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_modal||_raw_loader_modalPopupRoundUp_html__WEBPACK_IMPORTED_MODULE_7__.a),RoundUpWidgetController=function(){function RoundUpWidgetController(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,RoundUpWidgetController),this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_5__.a(e)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(RoundUpWidgetController,[{key:"getCart",value:function(){var e=this;this.apiService.getCart((function(t){e.cart=t,e.buildWidget()}))}},{key:"addToCartRoundUp",value:function(e){this.apiService.addRoundUpToCart(this.widget.variantId,e,(function(){Object(_utils__WEBPACK_IMPORTED_MODULE_8__.g)()}),(function(e){RoundUpWidgetController.onError(e)}))}},{key:"updateRoundUpQuantity",value:function(e){this.apiService.updateRoundUpQuantity(this.widget.variantId,e,(function(){Object(_utils__WEBPACK_IMPORTED_MODULE_8__.g)()}),(function(e){RoundUpWidgetController.onError(e)}))}},{key:"init",value:function(){RoundUpWidgetController.isValid()&&(this.getCart(),this.getSettings())}},{key:"getCharities",value:function(){var e=this;this.apiService.getCauseFund(this.causeFundId,(function(t){e.charities=t.charityVOs,e.buildWidget()}),(function(e){RoundUpWidgetController.onError(e)}))}},{key:"getSettings",value:function(){var e=this;this.apiService.getSettingsV2((function(t){t&&t.widgets&&t.widgets.ROUND_UP&&t.widgets.ROUND_UP.connection&&(e.widget=t.widgets.ROUND_UP,e.causeFundId=t.causeFundId,e.areFeesCovered=t.areFeesCovered,"BASIC"===e.widget.widgetType?(e.showUpdateBtn=!1,e.showControls=!1):"ADVANCED"===e.widget.widgetType&&(e.showUpdateBtn=!0,e.showControls=!0),e.getCharities())}),(function(e){console.log("response error",e)}))}},{key:"buildWidget",value:function(){!this.widgetBuilt&&this.cart&&this.widget&&this.charities&&this.cart.items.length&&this.generateTemplate()}},{key:"generatePopup",value:function(){var e=this,t=this.widget.widgetSettings,n=t.fontColor,o=t.description,r=t.backgroundColor,a=document.getElementsByTagName("body");a=a[a.length-1];var i=document.createElement("div");i.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(modalTemplate,{fontColor:n,description:o,backgroundColor:r,charities:this.charities,areFeesCovered:!!this.areFeesCovered,hasRoundUpItem:!(!this.shadowBanner.getElementById("dk-round-up-checkbox")||!this.shadowBanner.getElementById("dk-round-up-checkbox").checked)}),a.appendChild(i),document.getElementById("dk-modal-btn-round-up").addEventListener("click",(function(){e.roundUpFromModal(),document.getElementById("dk-modal-round-up").className="dk-modal-hidden",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_AddDonation")})),this.shadowBanner.getElementById("dk-learn-more-round-up").addEventListener("click",(function(){document.getElementById("dk-modal-round-up").className="dk-modal-visible",document.getElementById("dk-modal-round-up-overlay").focus(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_LearnMore")})),document.getElementById("dk-modal-close-round-up").addEventListener("click",(function(){document.getElementById("dk-modal-round-up").className="dk-modal-hidden",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Popup_Cancel")}))}},{key:"formatCurrency",value:function(e){var t;this.roundUpInput.value=(t=void 0!==e?e:this.roundUpInput.value,currency_js__WEBPACK_IMPORTED_MODULE_4___default()(t,{formatWithSymbol:!0})).format()}},{key:"generateTemplate",value:function(){var e=this;if(this.widgetBuilt=!0,"AUTO"===this.widget.pluginIntegration)this.bannerWraper=document.querySelector('form[action="/cart"]');else{if("MANUAL"!==this.widget.pluginIntegration)return;if(this.bannerWraper=document.getElementsByClassName("dk-round-up-static"),!this.bannerWraper)return;var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(this.bannerWraper,1);this.bannerWraper=t[0]}var n=document.createElement("div");n.classList.add("dk-round-up-banner-wrapper"),n.attachShadow({mode:"open"}),this.shadowBanner=n.shadowRoot;var o=this.widget.widgetSettings,r=o.verticalIndent,a=o.fontColor,i=o.description,l=o.backgroundColor,d=o.showBorder,s=o.isTransparent,u=o.blockAlignment,c="".concat(r,"px"),_="RIGHT"===u.toUpperCase()?0:"auto",p="LEFT"===u.toUpperCase()?0:"auto",h="margin: ".concat(c," ").concat(_," ").concat("10px"," ").concat(p),v=document.createElement("div");if(v.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(template,{blockAligmentStyles:h,fontColor:a,description:i,backgroundColor:s?"transparent":l,showBorder:d}),n.shadowRoot.appendChild(v),this.bannerWraper){if(this.bannerWraper.firstChild?this.bannerWraper.insertBefore(n,this.bannerWraper.firstChild):this.bannerWraper.appendChild(n),this.checkCheckboxIfRoundUpped(),this.shadowBanner.getElementById("dk-round-up-checkbox").addEventListener("change",(function(){e.roundUp(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Check")})),this.roundUpInput=this.shadowBanner.getElementById("dk-plugin-round-up-input"),this.roundUpInput.disabled=!0,this.roundUpInput.addEventListener("focus",(function(){e.roundUpInput.value=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e.roundUpInput.value)})),this.roundUpInput.addEventListener("input",(function(){!/(^|^\d+)(|\.|\.\d|\.\d\d)$/.test(e.roundUpInput.value)&&e.roundUpInput.value?e.roundUpInput.value=void 0!==e.roundUpInputLastValue?e.roundUpInputLastValue:e.initialInput/100:e.roundUpInputLastValue=e.roundUpInput.value})),this.roundUpInput.addEventListener("blur",(function(){e.formatCurrency()})),this.showControls){this.minusControl=this.shadowBanner.querySelector(".dk-plugin-control-minus"),this.plusControl=this.shadowBanner.querySelector(".dk-plugin-control-plus"),this.minusControl.style.display="flex",this.plusControl.style.display="flex";var f=function(e){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0})};this.minusControl.addEventListener("click",(function(){+f(e.roundUpInput.value).subtract(1)>=0&&e.formatCurrency(+f(e.roundUpInput.value).subtract(1))})),this.plusControl.addEventListener("click",(function(){e.formatCurrency(+f(e.roundUpInput.value).add(1))}))}this.updateBtn=this.shadowBanner.getElementById("dk-plugin-update"),this.updateBtn.addEventListener("click",(function(){e.roundUp(!0),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Update")})),this.roundUpCalculationHelpers().foundRoundUpItem&&this.showUpdateBtn&&(this.updateBtn.style.display="inline-block"),this.setInitialInputValue(),this.initialInput=this.getInputValue(),this.generatePopup()}}},{key:"getInputValue",value:function(){return this.roundUpInput?Math.floor(+currency_js__WEBPACK_IMPORTED_MODULE_4___default()(this.roundUpInput.value).multiply(100)):0}},{key:"setInputValue",value:function(e){this.roundUpInput&&this.formatCurrency(e/100)}},{key:"manualMode",value:function(e){e?localStorage.setItem("dk_round_up_is_manual_mode","1"):localStorage.removeItem("dk_round_up_is_manual_mode")}},{key:"isManualMode",value:function(){return localStorage.getItem("dk_round_up_is_manual_mode")}},{key:"roundUpCalculationHelpers",value:function(){var e=this,t=this.cart.total_price%100,n=this.cart.items.find((function(t){return t.variant_id===e.widget.variantId}));return{cents:t,foundRoundUpItem:n,centsWithountRoundUp:n?(this.cart.total_price-n.quantity)%100:0}}},{key:"setInitialInputValue",value:function(){var e=this.roundUpCalculationHelpers(),t=e.cents,n=e.centsWithountRoundUp,o=e.foundRoundUpItem;this.isManualMode()?this.setInputValue(o?o.quantity:0):this.setInputValue(100-(0===n?o?0:t:n))}},{key:"roundUpFromModal",value:function(){var e=this.getInputValue();this.shadowBanner.getElementById("dk-round-up-checkbox").checked||(this.initialInput!==e&&this.manualMode(!0),this.roundUpCalculationHelpers().foundRoundUpItem?this.updateRoundUpQuantity(e):this.addToCartRoundUp(e))}},{key:"roundUp",value:function(e){var t=this.getInputValue(),n=this.shadowBanner.getElementById("dk-round-up-checkbox").checked;if(!(this.roundUpChanged||e&&this.initialInput===t&&n)){if(this.roundUpChanged=!0,this.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!0,!n&&!e)return this.manualMode(!1),void this.updateRoundUpQuantity(0);var o=this.roundUpCalculationHelpers().foundRoundUpItem;(e||this.initialInput!==t)&&this.manualMode(!0),o?this.updateRoundUpQuantity(this.getInputValue()):this.addToCartRoundUp(this.getInputValue())}}},{key:"checkCheckboxIfRoundUpped",value:function(){var e=this.cart,t=e.items,n=e.total_price,o=this.widget.variantId,r=t.find((function(e){return e.variant_id===o}));r||this.manualMode(!1),this.isManualMode()&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0),n%100==0&&r&&r.quantity<=100&&this.shadowBanner.getElementById("dk-round-up-checkbox")&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"isValid",value:function(){return document.URL.endsWith("/cart")||document.URL.endsWith("/cart/")}},{key:"onError",value:function(e){e&&console&&console.log("request failed",e)}}]),RoundUpWidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpWidgetController.js"),reactHotLoader.register(modalTemplate,"modalTemplate","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpWidgetController.js"),reactHotLoader.register(RoundUpWidgetController,"RoundUpWidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpWidgetController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<div id="dk-modal-round-up" class="dk-modal-hidden"><div class="dk-modal-overlay" id = "dk-modal-round-up-overlay" tabindex="-1"></div>\n<div class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <button class="dk-modal-close" id = "dk-modal-close-round-up" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n\n  </div>\n\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <button {{if(options.hasRoundUpItem)}}disabled = "true"{{/if}} class="dk-modal-btn" id = "dk-modal-btn-round-up" type="button" style="background: {{backgroundColor}}; color: {{fontColor}}; {{if(options.hasRoundUpItem)}} border: none; {{/if}} ">\n      {{if(options.hasRoundUpItem)}}Charity Donation Added{{#else}}Yes, let\'s Round Up!{{/if}}\n    </button>\n    <label class="sub-label dk-modal-fee" style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma.{{if(!options.areFeesCovered)}} 10% processing + credit card transaction fee is deducted from your donation. {{/if}} \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received" style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div></div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return RoundUpCheckoutWidgetController}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),squirrelly__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),currency_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),currency_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(currency_js__WEBPACK_IMPORTED_MODULE_4__),_apiService__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_raw_loader_modalPopupRoundUpCheckout_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),enterModule;function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_checkout_widget||_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__.a),modalTemplate=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_checkout_modal||_raw_loader_modalPopupRoundUpCheckout_html__WEBPACK_IMPORTED_MODULE_7__.a),RoundUpCheckoutWidgetController=function(){function RoundUpCheckoutWidgetController(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,RoundUpCheckoutWidgetController),this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_5__.a(e)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(RoundUpCheckoutWidgetController,[{key:"getCart",value:function(){var e=this;this.apiService.getCart((function(t){e.cart=t,e.buildWidget()}))}},{key:"roundUpCheckoutApi",value:function(e){var t=this;this.isLoadingRoundUp=!0,this.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!0,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").disabled=!0,this.apiService.roundUpCheckout({shopName:window.Shopify.Checkout.apiHost||window.location.host,token:Shopify&&Shopify.Checkout?Shopify.Checkout.token:"",amount:e},(function(e){e&&e.existDiscountInCart&&window.location.reload(),t.isLoadingRoundUp=!1,t.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!1,t.shadowBannerMobile.getElementById("dk-round-up-checkbox").disabled=!1}),(function(e){t.isLoadingRoundUp=!1,t.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!1,t.shadowBannerMobile.getElementById("dk-round-up-checkbox").disabled=!1}))}},{key:"addToCartRoundUp",value:function(e){if(this.roundUpCheckoutApi(+currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e).divide(100)),0!==e){this.cart.items.push({quantity:e,variant_id:this.widget.variantId});var t=function(e,t){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0}).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(t).divide(100)).format()},n=document.querySelector("[data-checkout-subtotal-price-target]"),o=document.querySelector(".payment-due__price"),r=document.querySelector(".total-recap__final-price");if(n&&(n.innerHTML=t(n.innerHTML.trim(),e),n.setAttribute("data-checkout-subtotal-price-target","".concat(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(n.getAttribute("data-checkout-subtotal-price-target"),{precision:0}).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e))))),o){o.innerHTML=t(o.innerHTML.trim(),e);var a=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(o.getAttribute("data-checkout-payment-due-target"),{precision:0}).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e));o.setAttribute("data-checkout-payment-due-target","".concat(a)),document.querySelector('[name="checkout[total_price]"]').value="".concat(a),r&&(r.innerHTML=o.innerHTML)}this.addRoundUpElementUi(e)}}},{key:"updateRoundUpQuantity",value:function(e){var t=this;this.roundUpCheckoutApi(+currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e).divide(100));var n=this.roundUpCalculationHelpers().foundRoundUpItem,o=0;n&&(o=n.quantity);var r=document.querySelector("[data-checkout-subtotal-price-target]"),a=document.querySelector(".payment-due__price"),i=document.querySelector(".total-recap__final-price");0===e?(this.removeRoundUpElementUi(),this.cart.items=this.cart.items.filter((function(e){return e.variant_id!==t.widget.variantId}))):(this.cart.items.find((function(e){return e.variant_id===t.widget.variantId})).quantity=e,this.updateRoundUpElementUi(e));var l=function(e,t,n){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0}).subtract(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(n).divide(100)).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(t).divide(100)).format()};if(r&&(r.innerHTML=l(r.innerHTML.trim(),e,o),r.setAttribute("data-checkout-subtotal-price-target","".concat(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(r.getAttribute("data-checkout-subtotal-price-target"),{precision:0}).subtract(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(o)).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e))))),a){a.innerHTML=l(a.innerHTML.trim(),e,o);var d=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(a.getAttribute("data-checkout-payment-due-target"),{precision:0}).subtract(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(o)).add(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e));a.setAttribute("data-checkout-payment-due-target","".concat(d)),document.querySelector('[name="checkout[total_price]"]').value="".concat(d),i&&(i.innerHTML=a.innerHTML)}}},{key:"addRoundUpElementUi",value:function(e){var t=document.querySelector('[data-order-summary-section="line-items"]'),n=this.generateProductTemplate(e);t&&t.appendChild(n)}},{key:"generateProductTemplate",value:function(e){var t=window.location.host.split("."),n=t.length?"www"!==t[0]?t[0]:t[1]:"",o=window.dk_roundup_img_url||"https://dailykarma-images.s3-us-west-2.amazonaws.com/shopify_donation_product_icon.png",r='\n        <td class="product__image">\n          <div class="product-thumbnail">\n<div class="product-thumbnail__wrapper">\n  <img alt="Round Up Donation - Do good with '.concat(n,'" class="product-thumbnail__image" src="').concat(o,'">\n</div>\n  <span class="product-thumbnail__quantity" aria-hidden="true">1</span>\n</div>\n\n        </td>\n        <td class="product__description">\n          <span class="product__description__name order-summary__emphasis">Round Up Donation</span>\n          <span class="product__description__variant order-summary__small-text">Do good with ').concat(n,'</span>\n\n\n        </td>\n        <td class="product__quantity visually-hidden">\n          ').concat(e,'\n        </td>\n        <td class="product__price">\n          <span class="order-summary__emphasis">').concat(currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0}).divide(100).format(),"</span>\n        </td>"),a=document.createElement("tr");return a.classList.add("product"),a.setAttribute("data-variant-id","".concat(this.widget.variantId)),a.setAttribute("data-customer-ready-visible",""),a.innerHTML=r.trim(),a}},{key:"updateRoundUpElementUi",value:function(e){var t=this.widget.variantId,n=document.querySelector('[data-variant-id="'.concat(t,'"]')).querySelector(".product__price .order-summary__emphasis");n&&(n.innerHTML=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0}).divide(100).format())}},{key:"removeRoundUpElementUi",value:function(){var e=this.widget.variantId,t=document.querySelector('[data-variant-id="'.concat(e,'"]'));t&&t.parentElement&&t.parentElement.removeChild(t)}},{key:"init",value:function(){RoundUpCheckoutWidgetController.isValid()&&("payment_method"===Shopify.Checkout.step&&this.getCart(),this.getSettings())}},{key:"getCharities",value:function(){var e=this;this.apiService.getCauseFund(this.causeFundId,(function(t){e.charities=t.charityVOs,e.buildWidget()}),(function(e){RoundUpWidgetCheckoutController.onError(e)}))}},{key:"getSettings",value:function(){var e=this;this.apiService.getSettingsV2((function(t){t&&t.widgets&&t.widgets.ROUND_UP&&t.widgets.ROUND_UP.connection&&(e.widget=t.widgets.ROUND_UP,e.causeFundId=t.causeFundId,e.areFeesCovered=t.areFeesCovered,e.changeQuantityOnUi(),"payment_method"===Shopify.Checkout.step&&e.getCharities(),"BASIC"===e.widget.widgetType?(e.showUpdateBtn=!1,e.showControls=!1):"ADVANCED"===e.widget.widgetType&&(e.showUpdateBtn=!0,e.showControls=!0))}),(function(e){console.log("response error",e)}))}},{key:"changeQuantityOnUi",value:function(){var e=this.widget.variantId,t=document.querySelector('[data-variant-id="'.concat(e,'"]'));t&&(t.querySelector(".product-thumbnail__quantity").innerHTML="1")}},{key:"buildWidget",value:function(){var e=this;!this.widgetBuilt&&this.cart&&this.widget&&this.charities&&this.cart.items.length&&(this.generateTemplate(),this.discounts=document.querySelector("[data-checkout-discount-amount-target]"),this.observer&&this.observer.disconnect(),this.observer=new MutationObserver((function(t){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){if("childList"===n.value.type){var r=document.querySelector("[data-checkout-discount-amount-target]");(!e.discounts&&r||e.discounts&&!r||!document.querySelector(".dk-round-up-banner-wrapper-checkout")||!document.querySelector(".dk-round-up-banner-mobile-wrapper"))&&((!e.discounts&&r||e.discounts&&!r)&&(e.discounts=r),Object(_utils__WEBPACK_IMPORTED_MODULE_8__.j)("buildWidgetRoundUpCheckout",(function(){e.apiService.getCart((function(t){e.cart=t,e.generateTemplate(),e.changeQuantityOnUi()}))}),500))}}}catch(e){o.e(e)}finally{o.f()}})),this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}))}},{key:"generatePopup",value:function(){var e=this,t=document.getElementById("dk-modal-round-up");t&&t.parentElement&&t.parentElement.removeChild(t);var n=this.widget.widgetSettings,o=n.fontColor,r=n.description,a=n.backgroundColor,i=document.getElementsByTagName("body");i=i[i.length-1];var l=document.createElement("div");l.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(modalTemplate,{fontColor:o,description:r,backgroundColor:a,charities:this.charities,areFeesCovered:!!this.areFeesCovered,hasRoundUpItem:!(!this.shadowBanner.getElementById("dk-round-up-checkbox")||!this.shadowBanner.getElementById("dk-round-up-checkbox").checked)}),i.appendChild(l),document.getElementById("dk-modal-btn-round-up").addEventListener("click",(function(){e.roundUpFromModal(),document.getElementById("dk-modal-round-up").className="dk-modal-hidden",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_AddDonation")})),this.showLearnMoreListener(this.shadowBanner),this.showLearnMoreListener(this.shadowBannerMobile),document.getElementById("dk-modal-close-round-up").addEventListener("click",(function(){document.getElementById("dk-modal-round-up").className="dk-modal-hidden",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Popup_Cancel")}))}},{key:"showLearnMoreListener",value:function(e){e.getElementById("dk-learn-more-round-up").addEventListener("click",(function(){document.getElementById("dk-modal-round-up").className="dk-modal-visible",document.getElementById("dk-modal-round-up-overlay").focus(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_LearnMore")}))}},{key:"formatCurrency",value:function(e){var t=function(e){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0})};this.roundUpInput.value=t(void 0!==e?e:this.roundUpInput.value).format(),this.roundUpInputMobile.value=t(void 0!==e?e:this.roundUpInputMobile.value).format()}},{key:"generateMobileTemplate",value:function(e){this.mobileBanner=document.createElement("div"),this.mobileBanner.classList.add("dk-round-up-banner-mobile-wrapper"),this.mobileBanner.attachShadow({mode:"open"}),this.shadowBannerMobile=this.mobileBanner.shadowRoot;var t=document.createElement("div");t.innerHTML=e,this.mobileBanner.shadowRoot.appendChild(t);var n=document.querySelector(".section.section--reductions.hidden-on-desktop");n&&!n.contains(this.mobileBanner)&&n.appendChild(this.mobileBanner)}},{key:"generateTemplate",value:function(){this.widgetBuilt=!0;var e=document.querySelector(".dk-round-up-banner-mobile-wrapper"),t=document.querySelector(".dk-round-up-banner-wrapper-checkout");if((!e||!t)&&(e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t),"AUTO"!==this.widget.pluginIntegration&&"MANUAL"===this.widget.pluginIntegration&&(this.bannerWraper=document.getElementsByClassName("dk-round-up-static"),this.bannerWraper))){var n=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(this.bannerWraper,1);this.bannerWraper=n[0],this.shippingValue=+this.bannerWraper.getAttribute("shipping"),this.taxesValue=+this.bannerWraper.getAttribute("taxes"),this.discountsValue=+this.bannerWraper.getAttribute("discounts");var o=document.querySelector("[data-checkout-total-taxes-target]"),r=document.querySelector("[data-checkout-total-shipping-target]"),a=document.querySelector("[data-checkout-discount-amount-target]"),i=document.querySelector("[data-checkout-subtotal-price-target]");o&&!isNaN(+o.getAttribute("data-checkout-total-taxes-target"))&&(this.taxesValue=+o.getAttribute("data-checkout-total-taxes-target")),a&&!isNaN(+a.getAttribute("data-checkout-discount-amount-target"))?(this.discountsValue=+a.getAttribute("data-checkout-discount-amount-target"),a.innerText.includes("-")&&(this.discountsValue*=-1)):this.discountsValue=0,i&&!isNaN(+i.getAttribute("data-checkout-subtotal-price-target"))&&(this.subtotalValue=+i.getAttribute("data-checkout-subtotal-price-target")),r&&!isNaN(+r.getAttribute("data-checkout-total-shipping-target"))&&(this.shippingValue=+r.getAttribute("data-checkout-total-shipping-target"));var l=document.createElement("tr"),d=document.createElement("td");d.setAttribute("colspan","2"),l.appendChild(d);var s=document.querySelector(".total-line-table__tbody");if(s)s.appendChild(l),this.bannerWraper=d;else{var u=document.querySelector('[data-order-summary-section="payment-lines"]'),c=document.createElement("div");u&&(u.firstChild?u.insertBefore(c,u.firstChild):u.appendChild(c),this.bannerWraper=c)}isNaN(this.taxesValue)&&(this.taxesValue=0),isNaN(this.discountsValue)&&(this.discountsValue=0);var _=document.createElement("div");_.classList.add("dk-round-up-banner-wrapper-checkout"),_.attachShadow({mode:"open"}),this.shadowBanner=_.shadowRoot;var p=this.widget.widgetSettings,h=p.verticalIndent,v=p.fontColor,f=p.description,m=p.backgroundColor,b=p.showBorder,g=p.isTransparent,k=p.blockAlignment,y="".concat(h,"px"),E="RIGHT"===k.toUpperCase()?0:"auto",q="LEFT"===k.toUpperCase()?0:"auto",w="margin: ".concat(y," ").concat(E," ").concat("10px"," ").concat(q),M=document.createElement("div"),C=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(template,{blockAligmentStyles:w,fontColor:v,description:f,backgroundColor:g?"transparent":m,showBorder:b});M.innerHTML=C,_.shadowRoot.appendChild(M),this.bannerWraper.firstChild?this.bannerWraper.insertBefore(_,this.bannerWraper.firstChild):this.bannerWraper.appendChild(_),this.generateMobileTemplate(C),this.checkCheckboxIfRoundUpped(),this.checkboxListener(this.shadowBanner),this.checkboxListener(this.shadowBannerMobile,!0),this.roundUpInput=this.shadowBanner.getElementById("dk-plugin-round-up-input"),this.roundUpInput.disabled=!0,this.roundUpInputMobile=this.shadowBannerMobile.getElementById("dk-plugin-round-up-input"),this.roundUpInputMobile.disabled=!0,this.generateCurrency(),this.updateBtnListener(),this.roundUpCalculationHelpers().foundRoundUpItem&&this.showUpdateBtn&&(this.updateBtn.style.display="inline-block",this.updateBtnMobile.style.display="inline-block"),this.setInitialInputValue(),this.initialInput=this.getInputValue(),this.generatePopup()}}},{key:"generateCurrency",value:function(){var e=this;this.roundUpInput.addEventListener("focus",(function(){e.roundUpInput.value=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e.roundUpInput.value)})),this.roundUpInputMobile.addEventListener("focus",(function(){e.roundUpInputMobile.value=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e.roundUpInputMobile.value)}));var t=function(t){var n=t?e.roundUpInputMobile.value:e.roundUpInput.value;!/(^|^\d+)(|\.|\.\d|\.\d\d)$/.test(n)&&n?(e.roundUpInput.value=void 0!==e.roundUpInputLastValue?e.roundUpInputLastValue:e.initialInput/100,e.roundUpInputMobile.value=void 0!==e.roundUpInputLastValue?e.roundUpInputLastValue:e.initialInput/100):t?(e.roundUpInputLastValue=e.roundUpInputMobile.value,e.roundUpInput.value=e.roundUpInputMobile.value):(e.roundUpInputLastValue=e.roundUpInput.value,e.roundUpInputMobile.value=e.roundUpInput.value)};this.roundUpInput.addEventListener("input",(function(){return t(!1)})),this.roundUpInputMobile.addEventListener("input",(function(){return t(!0)})),this.roundUpInput.addEventListener("blur",(function(){e.formatCurrency()})),this.roundUpInputMobile.addEventListener("blur",(function(){e.formatCurrency()}))}},{key:"updateBtnListener",value:function(){var e=this;if(this.updateBtn=this.shadowBanner.getElementById("dk-plugin-update"),this.updateBtn.addEventListener("click",(function(){e.roundUp(!0),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Update")})),this.updateBtnMobile=this.shadowBannerMobile.getElementById("dk-plugin-update"),this.updateBtnMobile.addEventListener("click",(function(){e.roundUp(!0,!0),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Update")})),this.showControls){this.minusControl=this.shadowBanner.querySelector(".dk-plugin-control-minus"),this.plusControl=this.shadowBanner.querySelector(".dk-plugin-control-plus"),this.minusControlMobile=this.shadowBannerMobile.querySelector(".dk-plugin-control-minus"),this.plusControlMobile=this.shadowBannerMobile.querySelector(".dk-plugin-control-plus"),this.minusControl.style.display="flex",this.plusControl.style.display="flex",this.minusControlMobile.style.display="flex",this.plusControlMobile.style.display="flex";var t=function(e){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0})},n=function(){+t(e.roundUpInput.value).subtract(1)>=0&&e.formatCurrency(+t(e.roundUpInput.value).subtract(1))},o=function(){e.formatCurrency(+t(e.roundUpInput.value).add(1))};this.minusControl.addEventListener("click",n),this.plusControl.addEventListener("click",o),this.minusControlMobile.addEventListener("click",n),this.plusControlMobile.addEventListener("click",o)}}},{key:"checkboxListener",value:function(e,t){var n=this,o=e.getElementById("dk-round-up-checkbox");o.addEventListener("change",(function(){t?n.shadowBanner.getElementById("dk-round-up-checkbox").checked=n.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked:n.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=n.shadowBanner.getElementById("dk-round-up-checkbox").checked,n.roundUp(),o.checked&&n.showUpdateBtn?(n.updateBtn.style.display="inline-block",n.updateBtnMobile.style.display="inline-block"):(n.updateBtn.style.display="none",n.updateBtnMobile.style.display="none"),n.generatePopup(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Check")}))}},{key:"getInputValue",value:function(){return this.roundUpInput?Math.floor(+currency_js__WEBPACK_IMPORTED_MODULE_4___default()(this.roundUpInput.value).multiply(100)):0}},{key:"setInputValue",value:function(e){this.roundUpInput&&this.roundUpInputMobile&&this.formatCurrency(e/100)}},{key:"manualMode",value:function(e){e?localStorage.setItem("dk_round_up_is_manual_mode","1"):localStorage.removeItem("dk_round_up_is_manual_mode")}},{key:"isManualMode",value:function(){return localStorage.getItem("dk_round_up_is_manual_mode")}},{key:"roundUpCalculationHelpers",value:function(){var e=this,t=(this.cart.requires_shipping?(this.subtotalValue||this.cart.total_price)+this.shippingValue:this.subtotalValue||this.cart.total_price)+this.taxesValue+this.discountsValue,n=t%100,o=this.cart.items.find((function(t){return t.variant_id===e.widget.variantId}));return{cents:n,foundRoundUpItem:o,centsWithountRoundUp:o?(t-o.quantity)%100:0}}},{key:"setInitialInputValue",value:function(){var e=this.roundUpCalculationHelpers(),t=e.cents,n=e.centsWithountRoundUp,o=e.foundRoundUpItem;this.isManualMode()?this.setInputValue(o?o.quantity:0):this.setInputValue(100-(0===n?o?0:t:n))}},{key:"roundUpFromModal",value:function(){var e=this.getInputValue();this.shadowBanner.getElementById("dk-round-up-checkbox").checked||(this.initialInput!==e&&this.manualMode(!0),this.roundUpCalculationHelpers().foundRoundUpItem?this.updateRoundUpQuantity(e):this.addToCartRoundUp(e),this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=!0,this.generatePopup(),this.showUpdateBtn&&(this.updateBtn.style.display="inline-block",this.updateBtnMobile.style.display="inline-block"))}},{key:"roundUp",value:function(e,t){var n=this.getInputValue(),o=this.shadowBanner.getElementById("dk-round-up-checkbox").checked,r=this.shadowBanner.getElementById("dk-round-up-checkbox").checked,a=t?r:o;if(!(this.isLoadingRoundUp||e&&this.initialInput===n&&a)){if(!a&&!e)return this.manualMode(!1),void this.updateRoundUpQuantity(0);var i=this.roundUpCalculationHelpers().foundRoundUpItem;(e||this.initialInput!==n)&&(this.manualMode(!0),this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=!0,this.generatePopup()),0===n&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!1,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=!1,this.generatePopup()),i?this.updateRoundUpQuantity(this.getInputValue()):this.addToCartRoundUp(this.getInputValue())}}},{key:"checkCheckboxIfRoundUpped",value:function(){var e=this.cart,t=e.items,n=e.total_price,o=(this.cart.requires_shipping?(this.subtotalValue||n)+this.shippingValue:this.subtotalValue||n)+this.taxesValue+this.discountsValue,r=this.widget.variantId,a=t.find((function(e){return e.variant_id===r}));a||this.manualMode(!1),this.isManualMode()&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=!0),o%100==0&&a&&a.quantity<=100&&this.shadowBanner.getElementById("dk-round-up-checkbox")&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0,this.shadowBannerMobile.getElementById("dk-round-up-checkbox").checked=!0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"isValid",value:function(){return Shopify&&Shopify.Checkout}},{key:"onError",value:function(e){e&&console&&console.log("request failed",e)}}]),RoundUpCheckoutWidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpCheckoutWidgetController.js"),reactHotLoader.register(modalTemplate,"modalTemplate","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpCheckoutWidgetController.js"),reactHotLoader.register(RoundUpCheckoutWidgetController,"RoundUpCheckoutWidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpCheckoutWidgetController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<div id="dk-modal-round-up" class="dk-modal-hidden"><div class="dk-modal-overlay" id = "dk-modal-round-up-overlay" tabindex="-1"></div>\n<div class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <button class="dk-modal-close" id = "dk-modal-close-round-up" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n\n  </div>\n\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <button {{if(options.hasRoundUpItem)}}disabled = "true"{{/if}} class="dk-modal-btn" id = "dk-modal-btn-round-up" type="button" style="background: {{backgroundColor}}; color: {{fontColor}}; {{if(options.hasRoundUpItem)}} border: none; {{/if}} ">\n      {{if(options.hasRoundUpItem)}}Charity Donation Added{{#else}}Yes, let\'s Round Up!{{/if}}\n    </button>\n    <label class="sub-label dk-modal-fee" style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma.{{if(!options.areFeesCovered)}} 10% processing + credit card transaction fee is deducted from your donation. {{/if}} \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received" style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div></div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return RoundUpPopupWidgetController}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),squirrelly__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),currency_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),currency_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(currency_js__WEBPACK_IMPORTED_MODULE_4__),_apiService__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11),_raw_loader_modalPopupRoundUpPopup_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),enterModule;function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_popup_widget||_raw_loader_roundUpWidget_html__WEBPACK_IMPORTED_MODULE_6__.a),modalTemplate=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_roundup_popup_modal||_raw_loader_modalPopupRoundUpPopup_html__WEBPACK_IMPORTED_MODULE_7__.a),RoundUpPopupWidgetController=function(){function RoundUpPopupWidgetController(e){var t=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,RoundUpPopupWidgetController),this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_5__.a(e),jQuery&&!window.dk_disable_ajax_hook&&jQuery(document).ajaxComplete((function(e,n,o){if(n&&200===n.status&&n.responseText&&o&&(o.url.includes("/cart.js")||o.url.includes("/change.js")||o.url.includes("/update.js"))){var r=JSON.parse(n.responseText);t.cart=r;var a=document.querySelector(".dk-round-up-popup-static");a&&a.firstChild&&(t.updateWidgetInfo(),t.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!1)}})),this.observer&&this.observer.disconnect(),this.observer=new MutationObserver((function(e){var n,o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){"childList"===n.value.type&&Object(_utils__WEBPACK_IMPORTED_MODULE_8__.j)("buildWidgetRoundUpPopup",(function(){var e=document.querySelector(".dk-round-up-popup-static");t.widgetBuilt&&e&&!e.firstChild?t.refreshWidget():t.buildWidget()}),300)}}catch(e){o.e(e)}finally{o.f()}})),this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0})}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(RoundUpPopupWidgetController,[{key:"getCart",value:function(e){var t=this;this.apiService.getCart((function(n){t.cart=n,e&&e(n),t.buildWidget()}))}},{key:"refreshWidget",value:function(){var e=document.querySelector(".dk-round-up-popup-static");e&&!e.firstChild&&(this.widgetBuilt=!1,this.buildWidget())}},{key:"updateWidgetInfo",value:function(){this.setInitialInputValue(),this.checkCheckboxIfRoundUpped();var e=this.roundUpCalculationHelpers().foundRoundUpItem;(!e||!this.isManualMode()&&e&&this.cart.total_price%100!=0)&&this.shadowBanner&&(this.manualMode(!1),this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!1,this.generatePopup()),e||(this.manualMode(!1),this.updateBtn.style.display="none")}},{key:"refreshCart",value:function(e){window.dkRefreshCartAction?window.dkRefreshCartAction(e):window.location.href=window.location.origin+"/cart"}},{key:"addToCartRoundUp",value:function(e){var t=this;this.apiService.addRoundUpToCart(this.widget.variantId,e,(function(){t.getCart((function(e){t.generatePopup(),t.refreshCart(e),t.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!1}))}),(function(e){RoundUpPopupWidgetController.onError(e)}))}},{key:"updateRoundUpQuantity",value:function(e){var t=this;this.apiService.updateRoundUpQuantity(this.widget.variantId,e,(function(e){t.cart=e,t.generatePopup(),t.refreshCart(e),t.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!1}),(function(e){RoundUpPopupWidgetController.onError(e)}))}},{key:"init",value:function(){this.getCart(),this.getSettings()}},{key:"getCharities",value:function(){var e=this;this.apiService.getCauseFund(this.causeFundId,(function(t){e.charities=t.charityVOs,e.buildWidget()}),(function(e){RoundUpPopupWidgetController.onError(e)}))}},{key:"getSettings",value:function(){var e=this;this.apiService.getSettingsV2((function(t){t&&t.widgets&&t.widgets.ROUND_UP&&t.widgets.ROUND_UP.connection&&(e.widget=t.widgets.ROUND_UP,e.causeFundId=t.causeFundId,e.areFeesCovered=t.areFeesCovered,e.getCharities(),"BASIC"===e.widget.widgetType?(e.showUpdateBtn=!1,e.showControls=!1):"ADVANCED"===e.widget.widgetType&&(e.showUpdateBtn=!0,e.showControls=!0))}),(function(e){console.log("response error",e)}))}},{key:"buildWidget",value:function(){!this.widgetBuilt&&this.cart&&this.widget&&this.charities&&this.cart.items.length&&this.generateTemplate()}},{key:"generatePopup",value:function(){var e=this,t=this.widget.widgetSettings,n=t.fontColor,o=t.description,r=t.backgroundColor;if(document.getElementById("dk-modal-round-up-popup")){var a=document.getElementById("dk-modal-round-up-popup");a.parentNode.removeChild(a)}var i=document.getElementsByTagName("body");i=i[i.length-1];var l=document.createElement("div");l.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(modalTemplate,{fontColor:n,description:o,backgroundColor:r,charities:this.charities,areFeesCovered:!!this.areFeesCovered,hasRoundUpItem:!(!this.shadowBanner.getElementById("dk-round-up-checkbox")||!this.shadowBanner.getElementById("dk-round-up-checkbox").checked)}),i.appendChild(l),document.getElementById("dk-modal-btn-round-up-popup").addEventListener("click",(function(){e.roundUpFromModal(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_AddDonation")})),this.shadowBanner.getElementById("dk-learn-more-round-up").addEventListener("click",(function(){document.getElementById("dk-modal-round-up-popup").className="dk-modal-visible",document.getElementById("dk-modal-round-up-popup-overlay").focus(),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_LearnMore")})),document.getElementById("dk-modal-close-round-up-popup").addEventListener("click",(function(){document.getElementById("dk-modal-round-up-popup").className="dk-modal-hidden",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Popup_Cancel")}))}},{key:"formatCurrency",value:function(e){var t;this.roundUpInput.value=(t=void 0!==e?e:this.roundUpInput.value,currency_js__WEBPACK_IMPORTED_MODULE_4___default()(t,{formatWithSymbol:!0})).format()}},{key:"generateTemplate",value:function(){var e=this;if(this.widgetBuilt=!0,"MANUAL"===this.widget.pluginIntegration&&(this.bannerWraper=document.getElementsByClassName("dk-round-up-popup-static"),this.bannerWraper)){var t=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(this.bannerWraper,1);if(this.bannerWraper=t[0],this.bannerWraper){var n=document.createElement("div");n.classList.add("dk-round-up-popup-banner-wrapper"),n.attachShadow({mode:"open"}),this.shadowBanner=n.shadowRoot;var o=this.widget.widgetSettings,r=o.verticalIndent,a=o.fontColor,i=o.description,l=o.backgroundColor,d=o.showBorder,s=o.isTransparent,u=o.blockAlignment,c="".concat(r,"px"),_="RIGHT"===u.toUpperCase()?0:"auto",p="LEFT"===u.toUpperCase()?0:"auto",h="margin: ".concat(c," ").concat(_," ").concat("10px"," ").concat(p),v=document.createElement("div");v.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(template,{blockAligmentStyles:h,fontColor:a,description:i,backgroundColor:s?"transparent":l,showBorder:d}),n.shadowRoot.appendChild(v),this.bannerWraper.firstChild?this.bannerWraper.insertBefore(n,this.bannerWraper.firstChild):this.bannerWraper.appendChild(n),this.checkCheckboxIfRoundUpped();var f=this.shadowBanner.getElementById("dk-round-up-checkbox");if(f.addEventListener("change",(function(){e.roundUp(),f.checked&&e.showUpdateBtn?e.updateBtn.style.display="inline-block":e.updateBtn.style.display="none",Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Check")})),this.roundUpInput=this.shadowBanner.getElementById("dk-plugin-round-up-input"),this.roundUpInput.disabled=!0,this.roundUpInput.addEventListener("focus",(function(){e.roundUpInput.value=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e.roundUpInput.value)})),this.roundUpInput.addEventListener("input",(function(){!/(^|^\d+)(|\.|\.\d|\.\d\d)$/.test(e.roundUpInput.value)&&e.roundUpInput.value?e.roundUpInput.value=void 0!==e.roundUpInputLastValue?e.roundUpInputLastValue:e.initialInput/100:e.roundUpInputLastValue=e.roundUpInput.value})),this.roundUpInput.addEventListener("blur",(function(){e.formatCurrency()})),this.showControls){this.minusControl=this.shadowBanner.querySelector(".dk-plugin-control-minus"),this.plusControl=this.shadowBanner.querySelector(".dk-plugin-control-plus"),this.minusControl.style.display="flex",this.plusControl.style.display="flex";var m=function(e){return currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0})};this.minusControl.addEventListener("click",(function(){+m(e.roundUpInput.value).subtract(1)>=0&&e.formatCurrency(+m(e.roundUpInput.value).subtract(1))})),this.plusControl.addEventListener("click",(function(){e.formatCurrency(+m(e.roundUpInput.value).add(1))}))}this.updateBtn=this.shadowBanner.getElementById("dk-plugin-update"),this.updateBtn.addEventListener("click",(function(){e.roundUp(!0),Object(_analytics__WEBPACK_IMPORTED_MODULE_9__.a)("Shopify_RoundUp_Update")})),this.roundUpCalculationHelpers().foundRoundUpItem&&this.showUpdateBtn&&(this.updateBtn.style.display="inline-block"),this.setInitialInputValue(),this.initialInput=this.getInputValue(),this.generatePopup()}}}},{key:"getInputValue",value:function(){return this.roundUpInput?Math.floor(+currency_js__WEBPACK_IMPORTED_MODULE_4___default()(this.roundUpInput.value).multiply(100)):0}},{key:"setInputValue",value:function(e){this.roundUpInput&&this.formatCurrency(e/100)}},{key:"manualMode",value:function(e){e?localStorage.setItem("dk_round_up_is_manual_mode","1"):localStorage.removeItem("dk_round_up_is_manual_mode")}},{key:"isManualMode",value:function(){return localStorage.getItem("dk_round_up_is_manual_mode")}},{key:"roundUpCalculationHelpers",value:function(){var e=this,t=this.cart.total_price%100,n=this.cart.items.find((function(t){return t.variant_id===e.widget.variantId}));return{cents:t,foundRoundUpItem:n,centsWithountRoundUp:n?(this.cart.total_price-n.quantity)%100:0}}},{key:"setInitialInputValue",value:function(){var e=this.roundUpCalculationHelpers(),t=e.cents,n=e.centsWithountRoundUp,o=e.foundRoundUpItem;this.isManualMode()?this.setInputValue(o?o.quantity:0):this.setInputValue(100-(0===n?o?0:t:n))}},{key:"roundUpFromModal",value:function(){var e=this.getInputValue();this.shadowBanner.getElementById("dk-round-up-checkbox").checked||(this.initialInput!==e&&this.manualMode(!0),this.roundUpCalculationHelpers().foundRoundUpItem?this.updateRoundUpQuantity(e):this.addToCartRoundUp(e),this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0,this.generatePopup())}},{key:"roundUp",value:function(e){var t=this.getInputValue(),n=this.shadowBanner.getElementById("dk-round-up-checkbox").checked;if(!e||this.initialInput!==t||!n){if(this.shadowBanner.getElementById("dk-round-up-checkbox").disabled=!0,!n&&!e)return this.manualMode(!1),void this.updateRoundUpQuantity(0);var o=this.roundUpCalculationHelpers().foundRoundUpItem;(e||this.initialInput!==t)&&this.manualMode(!0),o?this.updateRoundUpQuantity(this.getInputValue()):this.addToCartRoundUp(this.getInputValue()),e&&!n&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0)}}},{key:"checkCheckboxIfRoundUpped",value:function(){var e=this.cart,t=e.items,n=e.total_price,o=this.widget.variantId,r=t.find((function(e){return e.variant_id===o}));r||this.manualMode(!1),this.isManualMode()&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0),n%100==0&&r&&r.quantity<=100&&this.shadowBanner.getElementById("dk-round-up-checkbox")&&(this.shadowBanner.getElementById("dk-round-up-checkbox").checked=!0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"onError",value:function(e){e&&console&&console.log("request failed",e)}}]),RoundUpPopupWidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpPopupWidgetController.js"),reactHotLoader.register(modalTemplate,"modalTemplate","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpPopupWidgetController.js"),reactHotLoader.register(RoundUpPopupWidgetController,"RoundUpPopupWidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/roundUpPopupWidgetController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<div id="dk-modal-round-up-popup" class="dk-modal-hidden"><div class="dk-modal-overlay" id ="dk-modal-round-up-popup-overlay" tabindex="-1"></div>\n<div   class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <button class="dk-modal-close" id = "dk-modal-close-round-up-popup" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n\n  </div>\n\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <button {{if(options.hasRoundUpItem)}}disabled = "true"{{/if}} class="dk-modal-btn" id = "dk-modal-btn-round-up-popup" type="button" style="background: {{backgroundColor}}; color: {{fontColor}}; {{if(options.hasRoundUpItem)}} border: none; {{/if}} ">\n      {{if(options.hasRoundUpItem)}}Charity Donation Added{{#else}}Yes, let\'s Round Up!{{/if}}\n    </button>\n    <label class="sub-label dk-modal-fee" style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma.{{if(!options.areFeesCovered)}} 10% processing + credit card transaction fee is deducted from your donation. {{/if}} \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received" style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div></div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return BackendWidgetController}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),squirrelly__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_apiService__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_raw_loader_backendWidget_html__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),_raw_loader_modalPopupBackend_html__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(27),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),enterModule;function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_2__.a(window.dk_tmpl_backend_widget||_raw_loader_backendWidget_html__WEBPACK_IMPORTED_MODULE_4__.a),modalTemplate=squirrelly__WEBPACK_IMPORTED_MODULE_2__.a(window.dk_tmpl_backend_modal||_raw_loader_modalPopupBackend_html__WEBPACK_IMPORTED_MODULE_5__.a),BackendWidgetController=function(){function BackendWidgetController(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,BackendWidgetController),this.showBannerOnProduct={},this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_3__.a(e)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(BackendWidgetController,[{key:"init",value:function(){this.getSettings()}},{key:"couldShowWidget",value:function(){var e=this;this.widget.widgetSettings&&this.widget.widgetSettings.showWidget&&this.getCharities((function(){e.buildWidget(),e.observer&&e.observer.disconnect(),e.observer=new MutationObserver((function(t){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){"childList"===n.value.type&&Object(_utils__WEBPACK_IMPORTED_MODULE_6__.j)("buildWidgetBackend",(function(){e.buildWidget()}),500)}}catch(e){o.e(e)}finally{o.f()}})),e.observer.observe(document,{attributes:!0,childList:!0,subtree:!0})}))}},{key:"getSettings",value:function(){var e=this;this.apiService.getSettingsV2((function(t){t&&t.widgets&&t.widgets.BACKEND&&t.widgets.BACKEND.connection&&(e.allWidgets=t,e.widget=t.widgets.BACKEND,e.causeFundId=t.causeFundId,e.areFeesCovered=t.areFeesCovered,e.couldShowWidget())}),(function(e){console.log("response error",e)}))}},{key:"getCharities",value:function(e){var t=this;this.apiService.getCauseFund(this.causeFundId,(function(n){t.charities=n.charityVOs,e()}),(function(e){BackendWidgetController.onError(e)}))}},{key:"buildWidget",value:function(){var e=this,t=["product-menu","product-bar__form"];if(this.elements=[],"AUTO"===this.widget.pluginIntegration)this.elements=this.elements.concat(Object(_utils__WEBPACK_IMPORTED_MODULE_6__.c)([".dk-backend-static:visible",".quick-shop-container .product-form__cart-actions",'.quick-view form[action="/cart/add"]','form[action="/cart/add"].product-form-nojs','form[action="/cart/add"]:visible']).filter((function(e){return"true"!==e.getAttribute("data-dk-backend-widget")})).filter((function(e){return t.reduce((function(t,n){return t&&!e.classList.contains(n)}),!0)})).filter((function(e){return!Object(_utils__WEBPACK_IMPORTED_MODULE_6__.d)(e,["products-grid","product-list"])}))),!window.show_dk_widget_on_collection_page&&window.location.pathname.split("/").filter((function(e){return""!==e})).includes("collections")&&window.location.pathname.split("/").filter((function(e){return""!==e})).length<=2&&(this.elements=[]);else{if("MANUAL"!==this.widget.pluginIntegration)return;this.elements=Array.from(document.querySelectorAll(".dk-backend-static")).filter((function(e){return Object(_utils__WEBPACK_IMPORTED_MODULE_6__.f)(e)&&"true"!==e.getAttribute("data-dk-backend-widget")}))}this.elements.forEach((function(t){t.setAttribute("data-dk-backend-widget","true"),t.parentElement.setAttribute("data-dk-backend-widget","true"),e.createConcreteWidget(t)}))}},{key:"createConcreteWidget",value:function(e){var t=this,n=function(){var n=document.createElement("div");n.classList.add("dk-backend-wrapper"),n.setAttribute("data-dk-backend-widget","true"),n.attachShadow({mode:"open"});var o=t.widget.widgetSettings,r=o.verticalIndent,a=o.fontColor,i=o.description,l=o.backgroundColor,d=o.showBorder,s=o.isTransparent,u=o.blockAlignment,c=document.createElement("div");c.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_2__.b(template,{verticalIndent:r,fontColor:a,description:i,backgroundColor:s?"transparent":l,showBorder:d,contentPosition:{right:"flex-end",center:"center",left:"flex-start"}[u]}),n.shadowRoot.appendChild(c),e.appendChild(n),t.popup?t.learnMoreBtn(n.shadowRoot):(t.generatePopup((function(){t.learnMoreBtn(n.shadowRoot)})),t.popup=!0)},o=jQuery(e).parents(':has(form[action^="/cart"])').first().find('form[action^="/cart"] [name="id"]').last().val()||null;Object(_utils__WEBPACK_IMPORTED_MODULE_6__.e)(this.allWidgets,o)||("ALL"===this.widget.pageMod||!0===this.showBannerOnProduct[o]?n():void 0===this.showBannerOnProduct[o]&&this.apiService.isRenderingAllowed(o,(function(e){e&&n(),t.showBannerOnProduct[o]=e}),"BACKEND"))}},{key:"generatePopup",value:function(e){var t=this.widget.widgetSettings,n=t.fontColor,o=t.description,r=t.backgroundColor,a=document.getElementsByTagName("body");a=a[a.length-1];var i=document.createElement("div");i.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_2__.b(modalTemplate,{fontColor:n,description:o,backgroundColor:r,charities:this.charities,areFeesCovered:!!this.areFeesCovered}),a.appendChild(i);var l=document.getElementById("dk-modal-backend");l.addEventListener("click",(function(e){return e.stopPropagation()}));var d=function(e){e.stopPropagation(),l.className="dk-modal-hidden"};document.getElementById("dk-modal-close-backend").addEventListener("click",(function(e){d(e)})),document.getElementById("dk-modal-overlay-backend").addEventListener("click",(function(e){d(e)})),e()}},{key:"learnMoreBtn",value:function(e){e.getElementById("dk-backend-learn-more").addEventListener("click",(function(){document.getElementById("dk-modal-backend").className="dk-modal-visible",document.getElementById("dk-modal-overlay-backend").focus(),Object(_analytics__WEBPACK_IMPORTED_MODULE_7__.a)("Shopify_POfSales_LearnMore")}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"onError",value:function(e){e&&console&&console.log("request failed",e)}}]),BackendWidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/backendWidgetController.js"),reactHotLoader.register(modalTemplate,"modalTemplate","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/backendWidgetController.js"),reactHotLoader.register(BackendWidgetController,"BackendWidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/backendWidgetController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='\n<style>\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n        line-height: 1;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: \'\';\n        content: none;\n    }\n    table {\n        border-collapse: collapse;\n        border-spacing: 0;\n    }\n    *{\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        text-transform: initial !important;\n        letter-spacing: initial !important;\n    }\n    .dk-backend-plugin {\n        width: 278px;\n        max-width: 278px;\n        padding: 12px 10px 12px 10px;\n        display: flex;\n        border-radius: 6px;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        flex-direction: column;\n        {{if(options.showBorder)}}\n        border: 1px solid {{fontColor}};\n        {{#else}}\n        border: none;\n        {{/if}}\n    }\n    .title {\n        line-height: 1.5;\n        font-weight: 700;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        font-size: 16px;\n    }\n    .description {\n        line-height: 1.5;\n        font-size: 14px;\n        font-weight: 400;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        padding-top: 2px;\n    }\n\n    .learn-more {\n        line-height: 1.5;\n        font-size: 14px;\n        font-weight: 400;\n        padding-top: 3px;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        text-decoration: underline;\n        cursor: pointer;\n        width: fit-content;\n    }\n\n    .learn-more:active {\n        outline: 0;\n    }\n\n    .created-by {\n        line-height: 1.5;\n        font-size: 10px;\n        padding-top: 4px;\n        display: flex;\n        font-weight: 400;\n        justify-content: center;\n        align-items: center;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n    }\n</style>\n<div style="display: flex; width: 100%; justify-content: {{contentPosition}};">\n    <div class="dk-backend-plugin" style="margin-top: {{verticalIndent}}px; color: {{fontColor}}; background: {{backgroundColor}};">\n        <span class="title"  style="color: {{fontColor}};">Your Purchase Gives Back</span>\n        <span class="description"  style="color: {{fontColor}};">{{description}}</span>\n        <a href="#" class="learn-more" id = "dk-backend-learn-more"  style="color: {{fontColor}};">Learn More</a>\n        <span class="created-by"  style="color: {{fontColor}};">Powered by  <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 1px; padding-left: 5px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n            <g transform="matrix(1 0 0 -1 0 960)">\n             <path fill="currentColor"\n          d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n          q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n          q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n          q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n          q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n          q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n          q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n          v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n          l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n          t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n          q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n          v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n          q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n          M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n          q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n          q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n          t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n          q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n          t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n          t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n            </g>\n          \n          </svg></span>\n    </div>\n</div>'},function(e,t,n){"use strict";t.a='<div id="dk-modal-backend" class="dk-modal-hidden"><div class="dk-modal-overlay" tabindex="-1" id = "dk-modal-overlay-backend"></div>\n<div class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <button class="dk-modal-close" id = "dk-modal-close-backend" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n\n  </div>\n\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <label class="sub-label dk-modal-fee" style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma. \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received" style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div></div>\n'},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return FlatWidgetController}));var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),squirrelly__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),currency_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),currency_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(currency_js__WEBPACK_IMPORTED_MODULE_4__),_apiService__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_raw_loader_flatWidget_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(29),_raw_loader_modalPopupFlat_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),_analytics__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),enterModule;function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,a=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_flat_widget||_raw_loader_flatWidget_html__WEBPACK_IMPORTED_MODULE_6__.a),modalTemplate=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(window.dk_tmpl_flat_modal||_raw_loader_modalPopupFlat_html__WEBPACK_IMPORTED_MODULE_7__.a),FlatWidgetController=function(){function FlatWidgetController(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,FlatWidgetController),this.showBannerOnProduct={},this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_5__.a(e)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(FlatWidgetController,[{key:"init",value:function(){this.getSettings()}},{key:"showWidget",value:function(){var e=this,t=function(){e.widgetsManager&&e.widgetsManager.forEach((function(t){e.foundFlatInCart()?t.hide():t.show()}))};jQuery&&!window.dk_disable_ajax_hook&&jQuery(document).ajaxComplete((function(n,o,r){o&&200===o.status&&o.responseText&&(r&&r.url.includes("/cart.js")&&(e.cart=JSON.parse(o.responseText),t()),r&&(r.url.includes("/change.js")||r.url.includes("/update.js"))&&e.apiService.getCart((function(n){e.cart=n,t()})))})),this.getCharities((function(){e.buildWidget(),e.observer&&e.observer.disconnect(),e.observer=new MutationObserver((function(t){var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){"childList"===n.value.type&&Object(_utils__WEBPACK_IMPORTED_MODULE_8__.j)("buildWidgetFlat",(function(){e.buildWidget()}),500)}}catch(e){o.e(e)}finally{o.f()}})),e.observer.observe(document,{attributes:!0,childList:!0,subtree:!0})}))}},{key:"getSettings",value:function(){var e=this;this.apiService.getSettingsV2((function(t){t&&t.widgets&&t.widgets.FLAT&&t.widgets.FLAT.connection&&(e.allWidgets=t,e.widget=t.widgets.FLAT,e.causeFundId=t.causeFundId,e.areFeesCovered=t.areFeesCovered,e.apiService.getCart((function(t){e.cart=t,e.showWidget()})))}),(function(e){console.log("response error",e)}))}},{key:"getCharities",value:function(e){var t=this;this.apiService.getCauseFund(this.causeFundId,(function(n){t.charities=n.charityVOs,e()}),(function(e){FlatWidgetController.onError(e)}))}},{key:"buildWidget",value:function(){var e=this,t=["product-menu","product-bar__form"];if(this.elements=[],"AUTO"===this.widget.pluginIntegration)this.elements=this.elements.concat(Object(_utils__WEBPACK_IMPORTED_MODULE_8__.c)([".dk-flat-static:visible",".quick-shop-container .product-form__cart-actions",'.quick-view form[action="/cart/add"]','form[action="/cart/add"].product-form-nojs','form[action="/cart/add"]:visible']).filter((function(e){return"true"!==e.getAttribute("data-dk-flat-widget")})).filter((function(e){return t.reduce((function(t,n){return t&&!e.classList.contains(n)}),!0)})).filter((function(e){return!Object(_utils__WEBPACK_IMPORTED_MODULE_8__.d)(e,["products-grid","product-list"])}))),!window.show_dk_widget_on_collection_page&&window.location.pathname.split("/").filter((function(e){return""!==e})).includes("collections")&&window.location.pathname.split("/").filter((function(e){return""!==e})).length<=2&&(this.elements=[]);else{if("MANUAL"!==this.widget.pluginIntegration)return;this.elements=Array.from(document.querySelectorAll(".dk-flat-static")).filter((function(e){return Object(_utils__WEBPACK_IMPORTED_MODULE_8__.f)(e)&&"true"!==e.getAttribute("data-dk-flat-widget")}))}this.widgetsManager||(this.widgetsManager=[]),this.elements.forEach((function(t){t.setAttribute("data-dk-flat-widget","true"),t.parentElement.setAttribute("data-dk-flat-widget","true"),e.createConcreteWidget(t)}))}},{key:"createConcreteWidget",value:function(e){var t=this,n=function(){var n=document.createElement("div");n.classList.add("dk-flat-wrapper"),n.setAttribute("data-dk-flat-widget","true"),n.attachShadow({mode:"open"});var o=t.widget.widgetSettings,r=t.widget.variants.map((function(e){return Number.isInteger(e.price)?e.price:parseFloat(e.price).toFixed(2)})),a=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(r,3),i=a[0],l=a[1],d=a[2],s=o.verticalIndent,u=o.fontColor,c=o.description,_=o.backgroundColor,p=o.showBorder,h=o.isTransparent,v=o.blockAlignment,f=document.createElement("div");f.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(template,{verticalIndent:s,fontColor:u,description:c,backgroundColor:h?"transparent":_,showBorder:p,price1:i,price2:l,price3:d,contentPosition:{right:"flex-end",center:"center",left:"flex-start"}[v]}),n.shadowRoot.appendChild(f),e.appendChild(n),t.foundFlatInCart()&&(n.shadowRoot.getElementById("dk-flat-plugin-widget-hidden").style.display="flex",n.shadowRoot.getElementById("dk-flat-plugin-widget").style.display="none"),t.popup?t.learnMoreBtn(n.shadowRoot):(t.generatePopup((function(){t.learnMoreBtn(n.shadowRoot)})),t.popup=!0),t.actions(n.shadowRoot)},o=jQuery(e).parents(':has(form[action^="/cart"])').first().find('form[action^="/cart"] [name="id"]').last().val()||null;Object(_utils__WEBPACK_IMPORTED_MODULE_8__.e)(this.allWidgets,o)||("ALL"===this.widget.pageMod||!0===this.showBannerOnProduct[o]?n():void 0===this.showBannerOnProduct[o]&&this.apiService.isRenderingAllowed(o,(function(e){e&&n(),t.showBannerOnProduct[o]=e}),"FLAT"))}},{key:"generatePopup",value:function(e){var t=this.widget.widgetSettings,n=t.fontColor,o=t.description,r=t.backgroundColor,a=document.getElementsByTagName("body");a=a[a.length-1];var i=document.createElement("div");i.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(modalTemplate,{fontColor:n,description:o,backgroundColor:r,charities:this.charities,areFeesCovered:!!this.areFeesCovered}),a.appendChild(i);var l=document.getElementById("dk-modal-flat");l.addEventListener("click",(function(e){return e.stopPropagation()}));var d=function(e){e.stopPropagation(),l.className="dk-modal-hidden"};document.getElementById("dk-modal-close-flat").addEventListener("click",(function(e){d(e)})),document.getElementById("dk-modal-overlay-flat").addEventListener("click",(function(e){d(e)})),e()}},{key:"actions",value:function(e){var t=this,n=e.getElementById("option-1"),o=e.getElementById("option-2"),r=e.getElementById("option-3"),a=e.getElementById("option-custom"),i=e.getElementById("dk-flat-add"),l=function(e){i.style.opacity=e?0:1,i.style.cursor=e?"default":"pointer"};this.widgetsManager.push({hide:function(){e.getElementById("dk-flat-plugin-widget-hidden").style.display="flex",e.getElementById("dk-flat-plugin-widget").style.display="none"},show:function(){e.getElementById("dk-flat-plugin-widget-hidden").style.display="none",e.getElementById("dk-flat-plugin-widget").style.display="flex",t.activeVariantId=void 0,n.className="control-btn",o.className="control-btn",r.className="control-btn",a.className="control-input",a.value="",l(!0),t.customInputLastValue=void 0,t.customVariantQuantity=void 0}});var d=function(e){return"control-btn active"===e.className};n.addEventListener("click",(function(){var e=d(n);l(e),t.activeVariantId=e?void 0:t.widget.variants&&t.widget.variants.length?t.widget.variants[0].variantId:null,n.className=e?"control-btn":"control-btn active",o.className="control-btn",r.className="control-btn",a.className="control-input",a.value=""})),o.addEventListener("click",(function(){var e=d(o);l(e),t.activeVariantId=e?void 0:t.widget.variants&&t.widget.variants.length?t.widget.variants[1].variantId:null,n.className="control-btn",o.className="control-btn active"===o.className?"control-btn":"control-btn active",r.className="control-btn",a.className="control-input",a.value=""})),r.addEventListener("click",(function(){var e=d(r);l(e),t.activeVariantId=e?void 0:t.widget.variants&&t.widget.variants.length?t.widget.variants[2].variantId:null,n.className="control-btn",o.className="control-btn",r.className="control-btn active"===r.className?"control-btn":"control-btn active",a.className="control-input",a.value=""})),a.addEventListener("input",(function(){!/(^|^\d+)(|\.|\.\d|\.\d\d)$/.test(a.value)&&a.value?a.value=void 0!==t.customInputLastValue?t.customInputLastValue:"":t.customInputLastValue=a.value,t.customVariantQuantity=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(+a.value).multiply(100).value,t.customVariantQuantity?(t.activeVariantId=t.widget.variantId,l(!1)):(t.activeVariantId=void 0,l(!0))})),a.addEventListener("focus",(function(){n.className="control-btn",o.className="control-btn",r.className="control-btn",a.className="control-input",a.value&&(a.value=currency_js__WEBPACK_IMPORTED_MODULE_4___default()(a.value))}));a.addEventListener("blur",(function(){var e;0==+a.value?a.value="":""!==a.value&&(a.className="control-input active",a.value=(e=a.value,currency_js__WEBPACK_IMPORTED_MODULE_4___default()(e,{formatWithSymbol:!0})).format())})),i.addEventListener("click",(function(){"0"!==i.style.opacity&&(t.activeVariantId===t.widget.variantId?t.addToCartFlat(t.customVariantQuantity,t.activeVariantId):t.addToCartFlat(1,t.activeVariantId))}))}},{key:"addToCartFlat",value:function(e,t){var n=this;this.widgetsManager&&this.widgetsManager.forEach((function(e){e.hide()})),this.apiService.addRoundUpToCart(t,e,(function(){n.apiService.getCart((function(){}))}),(function(e){FlatWidgetController.onError(e)}))}},{key:"foundFlatInCart",value:function(){var e=this;return this.cart.items.find((function(t){return t.variant_id===e.widget.variantId||e.widget.variants.find((function(e){return e.variantId===t.variant_id}))}))}},{key:"learnMoreBtn",value:function(e){e.getElementById("dk-flat-learn-more").addEventListener("click",(function(){document.getElementById("dk-modal-flat").className="dk-modal-visible",document.getElementById("dk-modal-overlay-flat").focus()}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"onError",value:function(e){e&&console&&console.log("request failed",e)}}]),FlatWidgetController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/flatWidgetController.js"),reactHotLoader.register(modalTemplate,"modalTemplate","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/flatWidgetController.js"),reactHotLoader.register(FlatWidgetController,"FlatWidgetController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/flatWidgetController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='\n<style>\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n        line-height: 1;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: \'\';\n        content: none;\n    }\n    table {\n        border-collapse: collapse;\n        border-spacing: 0;\n    }\n    *{\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;;\n        text-transform: initial !important;\n        letter-spacing: initial !important;\n    }\n    .dk-flat-plugin {\n        width: 320px;\n        max-width: 320px;\n        padding: 12px 10px 12px 10px;\n        display: flex;\n        border-radius: 6px;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        flex-direction: column;\n        {{if(options.showBorder)}}\n        border: 1px solid {{fontColor}};\n        {{#else}}\n        border: none;\n        {{/if}}\n    }\n    .title {\n        line-height: 1.5;\n        font-weight: 700;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        font-size: 14px;\n    }\n\n    .footer {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    .learn-more {\n        line-height: 1.5;\n        font-size: 14px;\n        font-weight: 400;\n        padding-top: 3px;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n        text-decoration: underline;\n        width: fit-content;\n    }\n\n    .learn-more:active {\n        outline: 0;\n    }\n    \n    .controls {\n        display: flex;\n        align-items: center;\n        margin-top: 8px;\n    }\n\n    .control-btn, .control-input {\n        width: 63px;\n        height: 36px;\n        color: {{fontColor}};\n        background: {{backgroundColor}};\n        margin-left: 8px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-weight: 400;\n        border: 1px solid {{fontColor}};\n        border-radius: 6px;\n    }\n\n    .control-btn {\n        cursor: pointer;\n        user-select: none;\n    }\n\n    .control-input {\n        text-align:center;\n        outline: none;\n    }\n\n    .control-input::placeholder { color: {{fontColor}}; }\n    .control-btn.active, .control-input.active {\n        background: {{fontColor}};\n        color: {{backgroundColor}};\n    }\n\n    .control-btn:first-child {\n        margin-left: 0;\n    }\n\n    .control-input {\n        margin-left: 8px;\n        width: 63px;\n        height: 34px;\n    }\n\n    .created-by {\n        line-height: 1.5;\n        font-size: 10px;\n        padding-top: 4px;\n        display: flex;\n        font-weight: 400;\n        justify-content: center;\n        align-items: center;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif;\n    }\n</style>\n<div style="display: flex; width: 100%; justify-content: {{contentPosition}};">\n    <div id = "dk-flat-plugin-widget" class="dk-flat-plugin" style="margin-top: {{verticalIndent}}px; color: {{fontColor}}; background: {{backgroundColor}};">\n        <span class="title"  style="color: {{fontColor}};">{{description}}</span>\n        <div class = "controls">\n            <div class="control-btn" id="option-1">${{price1}}</div>\n            <div class="control-btn"  id="option-2">${{price2}}</div>\n            <div class="control-btn"  id="option-3">${{price3}}</div>\n            <input class="control-input"  id="option-custom" placeholder="Other"\n                onfocus="this.placeholder = \'\'"\n                onblur="this.placeholder = \'Other\'" />\n            <a href="javascript:void(0)" class="learn-more" id = "dk-flat-add"  style="margin-left: 5px; opacity: 0; color: {{fontColor}}; font-size: 12px;">Add</a>\n        </div>    \n        <div class="footer">\n            <a href="javascript:void(0)" class="learn-more" id = "dk-flat-learn-more"  style="color: {{fontColor}};">Learn More</a>\n            <span class="created-by"  style="color: {{fontColor}};">Powered by  <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 1px; padding-left: 5px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n                <g transform="matrix(1 0 0 -1 0 960)">\n                 <path fill="currentColor"\n              d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n              q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n              q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n              q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n              q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n              q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n              q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n              v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n              l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n              t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n              q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n              v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n              q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n              M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n              q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n              q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n              t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n              q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n              t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n              t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n                </g>\n              \n              </svg></span>\n        </div>\n    </div>\n\n    \n    <div id = "dk-flat-plugin-widget-hidden" class="dk-flat-plugin" style="margin-top: {{verticalIndent}}px; text-align: center; color: {{fontColor}}; background: {{backgroundColor}}; justify-content: center; display: none;">\n        <span class="title"  style="color: {{fontColor}}; font-weight: 400; margin-top: 2px;">Charity Donation was added</span>\n\n        <div class="footer" style="justify-content: center;">\n            <span class="created-by"  style="color: {{fontColor}};">Powered by  <svg aria-label="DailyKarma" xmlns="http://www.w3.org/2000/svg" style="width: 77px; position: relative; top: 1px; padding-left: 5px; color: {{fontColor}};" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="-10 0 4656 1024">\n                <g transform="matrix(1 0 0 -1 0 960)">\n                 <path fill="currentColor"\n              d="M4607 408q0 -43 -35.5 -70t-83.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q33 0 59.5 -4.5t46.5 -9.5v-36v0zM4604 576q-17 17 -42 25.5t-57 8.5q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6\n              q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-57.5 4q-61 0 -99 -27t-38 -76v-1q0 -49 38.5 -74t82.5 -25q45 0 75 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10 4t4 11v184q0 29 -8 51t-24 38v0v0zM4307 481v-178q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v175\n              q0 50 -24.5 78.5t-68.5 28.5q-40 0 -69.5 -29t-29.5 -82v-171q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v176q0 49 -24.5 77.5t-67.5 28.5q-42 0 -71 -32.5t-29 -80.5v-169q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5t4.5 -11.5v-43\n              q15 25 39 44.5t66 19.5q41 0 67 -20.5t39 -47.5q15 26 42 47t72 21q56 0 88.5 -36t32.5 -96v0v0zM3784 594q0 -7 -4.5 -12t-11.5 -5q-50 -5 -88.5 -43.5t-38.5 -113.5v-117q0 -6 -4 -10.5t-11 -4.5q-6 0 -10.5 4t-4.5 11v289q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v-76\n              q20 46 56.5 70t70.5 24q7 0 11.5 -4.5t4.5 -11.5v0v0zM3499 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM3396 610q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5\n              q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47 10t-57 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM3222 313q2 -2 3 -5t1 -6\n              q0 -6 -4 -10t-11 -4q-4 0 -7 1.5t-6 5.5l-121 149l-76 -77v-64q0 -7 -4.5 -11t-10.5 -4q-7 0 -11.5 4t-4.5 11v425q0 7 4.5 11.5t10.5 4.5q7 0 11.5 -4.5t4.5 -11.5v-325l193 201q2 2 4.5 3t5.5 1q6 0 10.5 -4t4.5 -10q0 -4 -1.5 -6t-3.5 -5l-116 -117l124 -153v0zM2915 592\n              v-3.5t-1 -4.5l-128 -305q-21 -49 -46 -69t-59 -20q-16 0 -28.5 2.5t-25.5 7.5q-4 1 -6.5 4.5t-2.5 8.5q0 6 4.5 10t10.5 4q2 0 4.5 -1t5.5 -2q7 -2 16 -4t24 -2q26 0 43 17.5t33 52.5l1 4l-140 291q-1 2 -2 4.5t-1 4.5q0 7 4.5 11.5t11.5 4.5t10.5 -3.5t5.5 -9.5l126 -271\n              l110 273q2 4 5.5 7.5t9.5 3.5q7 0 11 -4.5t4 -11.5v0v0zM2561 728v-425q0 -7 -4 -11t-11 -4q-6 0 -10.5 4t-4.5 11v425q0 7 4 11.5t11 4.5q6 0 10.5 -4.5t4.5 -11.5v0zM2441 592v-289q0 -7 -4.5 -11t-10.5 -4t-10.5 4t-4.5 11v289q0 7 4 11.5t10 4.5q7 0 11.5 -4.5\n              t4.5 -11.5v0zM2445 713v-10q0 -8 -6 -13.5t-14 -5.5q-7 0 -12.5 5.5t-5.5 13.5v10q0 8 5.5 13.5t12.5 5.5q8 0 14 -5.5t6 -13.5v0v0zM2298 408q0 -43 -35.5 -70t-84.5 -27q-36 0 -63.5 19t-27.5 54v1q0 33 27 53t77 20q34 0 60.5 -4.5t46.5 -9.5v-36v0zM2195 610\n              q-30 0 -55 -6.5t-49 -16.5q-2 -1 -5 -4.5t-3 -9.5q0 -5 4 -9.5t10 -4.5q1 0 3 0.5t4 1.5q19 9 41 15t48 6q49 0 76.5 -24.5t27.5 -71.5v-14q-23 6 -47.5 10t-56.5 4q-62 0 -100 -27t-38 -76v-1q0 -49 39 -74t83 -25t74 18.5t46 41.5v-40q0 -7 4 -11t11 -4q6 0 10.5 4t4.5 11\n              v184q0 29 -8.5 51t-24.5 38q-17 17 -42 25.5t-57 8.5v0v0zM1964 447q0 -60 -39.5 -97.5t-88.5 -37.5t-86 37t-37 99v1q0 64 36 99.5t87 35.5q49 0 88.5 -37.5t39.5 -97.5v-2zM1977 744q-6 0 -10 -4.5t-4 -11.5v-191q-20 30 -51.5 53t-78.5 23q-57 0 -105 -44t-48 -121v-1\n              q0 -77 48 -120.5t105 -43.5q47 0 78 23.5t52 54.5v-58q0 -7 4.5 -11t10.5 -4q7 0 11 4t4 11v425q0 7 -4.5 11.5t-11.5 4.5v0v0zM1231 381q-27 -28 -66.5 -28t-66.5 28v0l-67 67l67 67q13 13 30.5 20t36.5 7t36 -7t30 -20q14 -14 21 -31t7 -36t-7 -36.5t-21 -30.5v0v0z\n              M823 340l-107 108l107 107l107 -107zM427 52q-10 11 -16 25t-6 29q0 16 6 29.5t16 24.5l80 80l108 -108l-80 -80q-22 -22 -53.5 -22t-54.5 22v0zM400 448l107 107l108 -107l-108 -108zM715 132l108 108l80 -80q11 -11 16.5 -24.5t5.5 -29.5q0 -15 -5.5 -29t-16.5 -25\n              q-22 -22 -53.5 -22t-54.5 22l-80 80v0zM665 398l108 -108l-108 -107l-107 107l107 108v0zM427 843q20 20 47 22.5t49 -12.5q3 -2 6 -4.5t6 -5.5l80 -80l-108 -107l-80 80q-2 2 -4.5 5t-4.5 6q-6 9 -9.5 20t-3.5 22q0 8 1.5 15.5t4.5 14.5q3 6 7 12.5t9 11.5v0v0zM807 853\n              q16 10 35 12t36 -5q7 -3 13 -7t12 -10q5 -5 9 -11.5t7 -12.5q3 -7 4.5 -14.5t1.5 -15.5q0 -11 -3 -22t-10 -20l-4 -6t-5 -5l-80 -80l-108 107l80 80q3 3 6 5.5t6 4.5v0v0zM665 498l-107 108l107 107l108 -107zM232 381q-27 -28 -66.5 -28t-66.5 28q-13 13 -20.5 30.5\n              t-7.5 36.5t7.5 36t20.5 31q13 13 30.5 20t36.5 7t36 -7t30 -20l67 -67l-67 -67v0zM1165 613q-34 0 -64 -12.5t-53 -35.5l-67 -67l-108 108l80 79q5 5 10 11t9 12q12 18 18 38.5t6 42.5q0 23 -6 43.5t-18 38.5q-4 6 -9 11.5t-10 11.5q-43 43 -104 43t-104 -43l-80 -80l-80 80\n              q-43 43 -104 43t-104 -43q-5 -6 -9.5 -11.5t-8.5 -11.5q-12 -18 -18.5 -38.5t-6.5 -43.5q0 -18 4.5 -35.5t12.5 -33.5q5 -10 11.5 -18.5t14.5 -16.5l80 -79l-107 -108l-67 67q-24 23 -54 35.5t-63 12.5q-34 0 -64 -12.5t-53 -35.5q-24 -24 -36.5 -54t-12.5 -63t12.5 -63.5\n              t36.5 -53.5q48 -49 116.5 -49t117.5 49l67 66l107 -107l-80 -80q-21 -20 -32 -47t-11 -57q0 -29 11 -56t32 -48q22 -21 49 -32t55 -11q29 0 56 11t48 32l80 80l80 -80q43 -43 104 -43t104 43q21 21 32 48t11 56q0 30 -11 57t-32 47l-80 80l108 107l67 -66q48 -49 116.5 -49\n              t117.5 49q23 23 35.5 53.5t12.5 63.5t-12.5 63t-35.5 54q-24 23 -54 35.5t-63 12.5v0v0z" />\n                </g>\n              \n              </svg></span>\n        </div>\n    </div>\n</div>'},function(e,t,n){"use strict";t.a='<div id="dk-modal-flat" class="dk-modal-hidden"><div class="dk-modal-overlay" tabindex="-1" id = "dk-modal-overlay-flat"></div>\n<div class="dk-modal-block" style="background: {{backgroundColor}}; color: {{fontColor}};">\n  <button class="dk-modal-close" id = "dk-modal-close-flat" style="color: {{fontColor}};" aria-label="Close Popup.">×</button>\n  <div class="dk-modal-header">\n    <span class="dk-modal-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n      {{description}}\n    </span>\n    <p class="dk-modal-description"></p>\n  </div>\n  <div class="dk-modal-main">\n\n    {{each(options.charities)}}\n    <div class="dk-modal-section"><img class="dk-modal-logo"\n      src="{{@this.photoUrl}}" alt="">\n      <div class="dk-modal-text">\n        <h3 class="dk-modal-charity-title" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.name}}\n        </h3>\n        <p class="dk-modal-charity-description" style="background: {{backgroundColor}}; color: {{fontColor}};">\n          {{@this.missionStatement || \' \'}}\n        </p>\n      </div>\n    </div>\n    {{/each}}\n\n  </div>\n\n  <div class="dk-modal-footer" style="background: {{backgroundColor}}; color: {{fontColor}};">\n    <label class="sub-label dk-modal-fee" style="background: {{backgroundColor}}; color: {{fontColor}}; line-height: 16px;">\n      Powered by DailyKarma. \n      <a target="_blank" class="dk-modal-learn" href="https://app.dailykarma.com/faqs/#received" style="background: {{backgroundColor}}; color: {{fontColor}};">\n        Learn More\n      </a>\n    </label>\n  </div>\n</div></div>\n'},function(e,t,n){"use strict";(function(e){var o,r=n(9);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,i,l=function(){var e="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";!function(t,n){if(!n.__SV){var o=window;try{var r,a,i,l=o.location,d=l.hash;r=function(e,t){return(a=e.match(new RegExp(t+"=([^&]*)")))?a[1]:null},d&&r(d,"state")&&"mpeditor"===(i=JSON.parse(decodeURIComponent(r(d,"state")))).action&&(o.sessionStorage.setItem("_mpcehash",d),history.replaceState(i.desiredHash||"",t.title,l.pathname+l.search))}catch(e){}var s,u,c,_;window.mixpanel=n,n._i=[],n.init=function(e,t,o){var r=n;function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(void 0!==o?r=n[o]=[]:o="mixpanel",r.people=r.people||[],r.toString=function(e){var t="mixpanel";return"mixpanel"!==o&&(t+="."+o),e||(t+=" (stub)"),t},r.people.toString=function(){return r.toString(1)+".people (stub)"},c="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),_=0;_<c.length;_++)a(r,c[_]);var i="set set_once union unset remove delete".split(" ");r.get_group=function(){var e={},t=arguments,n=["get_group"].concat(Array.prototype.slice.call(t,0));function o(t){e[t]=function(){var e=arguments,o=[t].concat(Array.prototype.slice.call(e,0));r.push([n,o])}}for(var a=0;a<i.length;a++)o(i[a]);return e},n._i.push([e,t,o])},n.__SV=1.2,(s=t.createElement("script")).type="text/javascript",s.async=!0,"undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?s.src=MIXPANEL_CUSTOM_LIB_URL:"file:"===t.location.protocol&&e.match(/^\/\//)?s.src="https:"+e:s.src=e,(u=t.getElementsByTagName("script")[0]).parentNode.insertBefore(s,u)}}(document,window.mixpanel||[]),mixpanel.init(r.a.mixpanelToken,{},"dailykarma")};t.a=l,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(l,"default","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/mixpanel.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,n(7)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return PreviewController}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_apiService__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),squirrelly__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_raw_loader_preview_html__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},template=squirrelly__WEBPACK_IMPORTED_MODULE_3__.a(_raw_loader_preview_html__WEBPACK_IMPORTED_MODULE_4__.a),PreviewController=function(){function PreviewController(e){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,PreviewController),this.apiService=new _apiService__WEBPACK_IMPORTED_MODULE_2__.a(e),this.widgets={donate:"donate",roundup:"roundup",backend:"backend",flat:"flat"}}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PreviewController,[{key:"isActivePreviewMode",value:function(){var e=sessionStorage.getItem("dk_preview_mode");return e&&this.widgets[e]}},{key:"activatePreviewMode",value:function(){var e=new URLSearchParams(window.location.search).get("dk_preview");e&&this.widgets[e]&&(this.clearCaches(),sessionStorage.setItem("dk_preview_mode",this.widgets[e]))}},{key:"buildWidget",value:function(){this.isActivePreviewMode()&&this.generateWidget()}},{key:"generateWidget",value:function(){var e=document.querySelector("body"),t=document.createElement("div");t.classList.add("dk-preview-bar-banner-wrapper"),t.attachShadow({mode:"open"}),this.shadowBanner=t.shadowRoot;var n=document.createElement("div");n.innerHTML=squirrelly__WEBPACK_IMPORTED_MODULE_3__.b(template),t.shadowRoot.appendChild(n),e.appendChild(t)}},{key:"clearCaches",value:function(){sessionStorage.removeItem("dkStorage"),sessionStorage.removeItem("dkCharities"),sessionStorage.removeItem("dkAddModal"),sessionStorage.removeItem("dkNotification"),localStorage.removeItem("dk_round_up_is_manual_mode")}},{key:"init",value:function(){this.activatePreviewMode(),this.buildWidget()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PreviewController}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(template,"template","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/previewController.js"),reactHotLoader.register(PreviewController,"PreviewController","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/previewController.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(7)(module))},function(e,t,n){"use strict";t.a='<style>\n    .wrapper {\n        opacity: 0.75;\n        position: fixed;\n        right: 0;\n        top: 0;\n        width: 100%;\n        display: flex;\n        background-color: #ff0000;\n        z-index: 9999;\n        height: 60px;\n        justify-content: center;\n        align-items: center;\n    }\n\n    #dk-close-preview {\n        margin-right: 5px;\n    }\n\n    .dk-logo {\n        text-align: center;\n        padding-left: 5px;\n        color: white;\n    }\n</style>\n\n<div class = "wrapper">\n    <div class = "dk-logo">SHOP FOR GOOD PREVIEW MODE: This preview showcases plugin placement only. You can not test functionality.</div>\n</div>'},function(e,t,n){"use strict";n.r(t),function(e){var t,o=n(9),r=n(13),a=n(19),i=n(21),l=n(23),d=n(25),s=n(28),u=n(31),c=(n(47),n(48),n(32));(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);var _,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function h(e){if(window.jQuery)e();else{var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js";var n=document.getElementsByTagName("script");n[n.length-1].insertAdjacentElement("afterend",t),t.onload=function(){e()}}}if(window.mixpanel=window.mixpanel||{},!window.dk_widget||!window.dk_widget.widgetController){window.dk_widget=window.dk_widget||{};var v=function(){Object(u.a)(),h((function(){window.dk_widget.previewController||(window.dk_widget.previewController=new c.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.previewController.init(),window.dk_widget.widgetController||(window.dk_widget.widgetController=new r.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.widgetController.init(),window.dk_widget.roundUpWidgetController||(window.dk_widget.roundUpWidgetController=new a.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.roundUpWidgetController.init(),window.dk_widget.roundUpPopupWidgetController||(window.dk_widget.roundUpPopupWidgetController=new l.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.roundUpPopupWidgetController.init(),window.dk_widget.flatWidgetController||(window.dk_widget.flatWidgetController=new s.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.flatWidgetController.init(),window.dk_widget.roundUpCheckoutWidgetController||(window.dk_widget.roundUpCheckoutWidgetController=new i.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.roundUpCheckoutWidgetController.init(),window.dk_widget.backendWidgetController||(window.dk_widget.backendWidgetController=new d.a("".concat(o.a.apiUrl,"/"))),window.dk_widget.backendWidgetController.init();var e=function(e){document.getElementById(e)&&(document.getElementById(e).className="dk-modal-hidden")};document.addEventListener("keydown",(function(t){27==t.keyCode&&(e("dk-modal-backend"),e("dk-modal-round-up"),e("dk-modal-round-up-popup"),e("dk-modal"))}))}))};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?v():document.addEventListener("DOMContentLoaded",v),window.InstantClick&&window.InstantClick.on("change",v)}(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&_.register(h,"initJquery","/var/lib/jenkins/workspace/Prod-Shopify-Assets/app/widget/index.js"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}.call(this,n(7)(e))},function(e,t,n){"use strict";var o=n(36),r=n(38),a=n(39),i=n(40);function l(e,t,n){var o=e;return r(t)?(n=t,"string"==typeof e&&(o={uri:e})):o=i(t,{uri:e}),o.callback=n,o}function d(e,t,n){return s(t=l(e,t,n))}function s(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,o,r){t||(t=!0,e.callback(n,o,r))};function o(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),m)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,b)}function i(){if(!s){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=b,i=null;return 0!==t?(r={body:o(),statusCode:t,method:p,headers:{},url:_,rawRequest:u},u.getAllResponseHeaders&&(r.headers=a(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,r,r.body)}}var l,s,u=e.xhr||null;u||(u=e.cors||e.useXDR?new d.XDomainRequest:new d.XMLHttpRequest);var c,_=u.url=e.uri||e.url,p=u.method=e.method||"GET",h=e.body||e.data,v=u.headers=e.headers||{},f=!!e.sync,m=!1,b={body:void 0,headers:{},statusCode:0,method:p,url:_,rawRequest:u};if("json"in e&&!1!==e.json&&(m=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(i,0)},u.onload=i,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(p,_,!f,e.username,e.password),f||(u.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(c=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),u.setRequestHeader)for(l in v)v.hasOwnProperty(l)&&u.setRequestHeader(l,v[l]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(h||null),u}e.exports=d,e.exports.default=d,d.XMLHttpRequest=o.XMLHttpRequest||function(){},d.XDomainRequest="withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:o.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){d["delete"===e?"del":e]=function(t,n,o){return(n=l(t,n,o)).method=e.toUpperCase(),s(n)}}))},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(37))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t){var n=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,o={},r=n(e).split("\n"),a=0;a<r.length;a++){var i=r[a],l=i.indexOf(":"),d=n(i.slice(0,l)).toLowerCase(),s=n(i.slice(l+1));void 0===o[d]?o[d]=s:(t=o[d],"[object Array]"===Object.prototype.toString.call(t)?o[d].push(s):o[d]=[o[d],s])}return o}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var o=arguments[t];for(var r in o)n.call(o,r)&&(e[r]=o[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}}},function(e,t,n){var o=n(45);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){}]);